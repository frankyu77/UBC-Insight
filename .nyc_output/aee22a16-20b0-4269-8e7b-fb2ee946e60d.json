{"C:\\Users\\aqilf\\project_team103\\src\\controller\\InsightFacade.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\InsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":16},"end":{"line":29,"column":49}},"28":{"start":{"line":30,"column":25},"end":{"line":30,"column":52}},"29":{"start":{"line":31,"column":11},"end":{"line":31,"column":38}},"30":{"start":{"line":32,"column":18},"end":{"line":32,"column":55}},"31":{"start":{"line":33,"column":24},"end":{"line":33,"column":67}},"32":{"start":{"line":34,"column":24},"end":{"line":34,"column":67}},"33":{"start":{"line":35,"column":24},"end":{"line":35,"column":67}},"34":{"start":{"line":36,"column":26},"end":{"line":36,"column":71}},"35":{"start":{"line":37,"column":28},"end":{"line":37,"column":75}},"36":{"start":{"line":38,"column":19},"end":{"line":38,"column":41}},"37":{"start":{"line":40,"column":25},"end":{"line":40,"column":27}},"38":{"start":{"line":41,"column":27},"end":{"line":41,"column":29}},"39":{"start":{"line":42,"column":10},"end":{"line":42,"column":18}},"40":{"start":{"line":43,"column":20},"end":{"line":43,"column":49}},"41":{"start":{"line":45,"column":8},"end":{"line":62,"column":11}},"42":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"43":{"start":{"line":48,"column":16},"end":{"line":48,"column":39}},"44":{"start":{"line":51,"column":12},"end":{"line":54,"column":13}},"45":{"start":{"line":52,"column":16},"end":{"line":52,"column":76}},"46":{"start":{"line":53,"column":16},"end":{"line":53,"column":23}},"47":{"start":{"line":56,"column":12},"end":{"line":61,"column":13}},"48":{"start":{"line":57,"column":16},"end":{"line":57,"column":70}},"49":{"start":{"line":59,"column":17},"end":{"line":61,"column":13}},"50":{"start":{"line":60,"column":16},"end":{"line":60,"column":67}},"51":{"start":{"line":67,"column":8},"end":{"line":97,"column":11}},"52":{"start":{"line":69,"column":12},"end":{"line":71,"column":13}},"53":{"start":{"line":70,"column":16},"end":{"line":70,"column":81}},"54":{"start":{"line":73,"column":12},"end":{"line":73,"column":78}},"55":{"start":{"line":76,"column":33},"end":{"line":76,"column":56}},"56":{"start":{"line":77,"column":12},"end":{"line":77,"column":41}},"57":{"start":{"line":78,"column":12},"end":{"line":78,"column":78}},"58":{"start":{"line":82,"column":12},"end":{"line":82,"column":81}},"59":{"start":{"line":83,"column":12},"end":{"line":83,"column":88}},"60":{"start":{"line":85,"column":12},"end":{"line":88,"column":13}},"61":{"start":{"line":86,"column":16},"end":{"line":86,"column":87}},"62":{"start":{"line":87,"column":16},"end":{"line":87,"column":23}},"63":{"start":{"line":89,"column":12},"end":{"line":89,"column":88}},"64":{"start":{"line":90,"column":12},"end":{"line":90,"column":70}},"65":{"start":{"line":91,"column":12},"end":{"line":91,"column":57}},"66":{"start":{"line":92,"column":12},"end":{"line":92,"column":71}},"67":{"start":{"line":93,"column":12},"end":{"line":93,"column":47}},"68":{"start":{"line":96,"column":12},"end":{"line":96,"column":73}},"69":{"start":{"line":101,"column":8},"end":{"line":127,"column":11}},"70":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"71":{"start":{"line":104,"column":16},"end":{"line":104,"column":81}},"72":{"start":{"line":107,"column":12},"end":{"line":107,"column":78}},"73":{"start":{"line":110,"column":33},"end":{"line":110,"column":56}},"74":{"start":{"line":111,"column":12},"end":{"line":111,"column":41}},"75":{"start":{"line":112,"column":12},"end":{"line":112,"column":81}},"76":{"start":{"line":114,"column":12},"end":{"line":114,"column":84}},"77":{"start":{"line":116,"column":12},"end":{"line":119,"column":13}},"78":{"start":{"line":117,"column":16},"end":{"line":117,"column":90}},"79":{"start":{"line":118,"column":16},"end":{"line":118,"column":23}},"80":{"start":{"line":120,"column":12},"end":{"line":120,"column":70}},"81":{"start":{"line":121,"column":12},"end":{"line":121,"column":57}},"82":{"start":{"line":122,"column":12},"end":{"line":122,"column":71}},"83":{"start":{"line":123,"column":12},"end":{"line":123,"column":47}},"84":{"start":{"line":126,"column":12},"end":{"line":126,"column":73}},"85":{"start":{"line":131,"column":8},"end":{"line":131,"column":36}},"86":{"start":{"line":134,"column":8},"end":{"line":161,"column":11}},"87":{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},"88":{"start":{"line":137,"column":16},"end":{"line":137,"column":76}},"89":{"start":{"line":138,"column":16},"end":{"line":138,"column":23}},"90":{"start":{"line":141,"column":12},"end":{"line":160,"column":15}},"91":{"start":{"line":143,"column":16},"end":{"line":156,"column":17}},"92":{"start":{"line":144,"column":20},"end":{"line":144,"column":96}},"93":{"start":{"line":148,"column":20},"end":{"line":155,"column":23}},"94":{"start":{"line":149,"column":24},"end":{"line":154,"column":25}},"95":{"start":{"line":150,"column":28},"end":{"line":150,"column":97}},"96":{"start":{"line":153,"column":28},"end":{"line":153,"column":40}},"97":{"start":{"line":159,"column":16},"end":{"line":159,"column":30}},"98":{"start":{"line":164,"column":21},"end":{"line":164,"column":23}},"99":{"start":{"line":165,"column":8},"end":{"line":180,"column":11}},"100":{"start":{"line":167,"column":12},"end":{"line":179,"column":15}},"101":{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},"102":{"start":{"line":169,"column":20},"end":{"line":169,"column":36}},"103":{"start":{"line":170,"column":20},"end":{"line":170,"column":27}},"104":{"start":{"line":173,"column":35},"end":{"line":173,"column":47}},"105":{"start":{"line":174,"column":16},"end":{"line":176,"column":17}},"106":{"start":{"line":175,"column":20},"end":{"line":175,"column":36}},"107":{"start":{"line":178,"column":16},"end":{"line":178,"column":87}},"108":{"start":{"line":185,"column":8},"end":{"line":221,"column":11}},"109":{"start":{"line":187,"column":12},"end":{"line":220,"column":15}},"110":{"start":{"line":188,"column":16},"end":{"line":190,"column":17}},"111":{"start":{"line":189,"column":20},"end":{"line":189,"column":89}},"112":{"start":{"line":192,"column":31},"end":{"line":192,"column":47}},"113":{"start":{"line":199,"column":16},"end":{"line":214,"column":17}},"114":{"start":{"line":200,"column":50},"end":{"line":204,"column":21}},"115":{"start":{"line":205,"column":20},"end":{"line":205,"column":55}},"116":{"start":{"line":208,"column":50},"end":{"line":212,"column":21}},"117":{"start":{"line":213,"column":20},"end":{"line":213,"column":55}},"118":{"start":{"line":216,"column":16},"end":{"line":216,"column":31}},"119":{"start":{"line":217,"column":16},"end":{"line":219,"column":17}},"120":{"start":{"line":218,"column":20},"end":{"line":218,"column":36}},"121":{"start":{"line":225,"column":8},"end":{"line":249,"column":11}},"122":{"start":{"line":226,"column":32},"end":{"line":226,"column":86}},"123":{"start":{"line":227,"column":32},"end":{"line":227,"column":74}},"124":{"start":{"line":228,"column":34},"end":{"line":228,"column":78}},"125":{"start":{"line":229,"column":36},"end":{"line":229,"column":82}},"126":{"start":{"line":230,"column":25},"end":{"line":230,"column":30}},"127":{"start":{"line":231,"column":12},"end":{"line":237,"column":13}},"128":{"start":{"line":232,"column":16},"end":{"line":232,"column":55}},"129":{"start":{"line":233,"column":16},"end":{"line":233,"column":52}},"130":{"start":{"line":236,"column":16},"end":{"line":236,"column":37}},"131":{"start":{"line":239,"column":12},"end":{"line":248,"column":15}},"132":{"start":{"line":240,"column":16},"end":{"line":240,"column":67}},"133":{"start":{"line":241,"column":16},"end":{"line":241,"column":65}},"134":{"start":{"line":242,"column":16},"end":{"line":242,"column":97}},"135":{"start":{"line":243,"column":16},"end":{"line":243,"column":79}},"136":{"start":{"line":244,"column":16},"end":{"line":244,"column":64}},"137":{"start":{"line":245,"column":16},"end":{"line":245,"column":39}},"138":{"start":{"line":247,"column":16},"end":{"line":247,"column":37}},"139":{"start":{"line":252,"column":0},"end":{"line":252,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":34},"end":{"line":63,"column":5}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":45,"column":27},"end":{"line":45,"column":28}},"loc":{"start":{"line":45,"column":48},"end":{"line":62,"column":9}},"line":45},"9":{"name":"(anonymous_9)","decl":{"start":{"line":65,"column":4},"end":{"line":65,"column":5}},"loc":{"start":{"line":65,"column":50},"end":{"line":98,"column":5}},"line":65},"10":{"name":"(anonymous_10)","decl":{"start":{"line":68,"column":18},"end":{"line":68,"column":19}},"loc":{"start":{"line":68,"column":36},"end":{"line":74,"column":9}},"line":68},"11":{"name":"(anonymous_11)","decl":{"start":{"line":75,"column":18},"end":{"line":75,"column":19}},"loc":{"start":{"line":75,"column":33},"end":{"line":94,"column":9}},"line":75},"12":{"name":"(anonymous_12)","decl":{"start":{"line":95,"column":19},"end":{"line":95,"column":20}},"loc":{"start":{"line":95,"column":30},"end":{"line":97,"column":9}},"line":95},"13":{"name":"(anonymous_13)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":53},"end":{"line":128,"column":5}},"line":99},"14":{"name":"(anonymous_14)","decl":{"start":{"line":102,"column":18},"end":{"line":102,"column":19}},"loc":{"start":{"line":102,"column":36},"end":{"line":108,"column":9}},"line":102},"15":{"name":"(anonymous_15)","decl":{"start":{"line":109,"column":18},"end":{"line":109,"column":19}},"loc":{"start":{"line":109,"column":33},"end":{"line":124,"column":9}},"line":109},"16":{"name":"(anonymous_16)","decl":{"start":{"line":125,"column":19},"end":{"line":125,"column":20}},"loc":{"start":{"line":125,"column":30},"end":{"line":127,"column":9}},"line":125},"17":{"name":"(anonymous_17)","decl":{"start":{"line":130,"column":4},"end":{"line":130,"column":5}},"loc":{"start":{"line":130,"column":18},"end":{"line":132,"column":5}},"line":130},"18":{"name":"(anonymous_18)","decl":{"start":{"line":133,"column":4},"end":{"line":133,"column":5}},"loc":{"start":{"line":133,"column":22},"end":{"line":162,"column":5}},"line":133},"19":{"name":"(anonymous_19)","decl":{"start":{"line":134,"column":27},"end":{"line":134,"column":28}},"loc":{"start":{"line":134,"column":48},"end":{"line":161,"column":9}},"line":134},"20":{"name":"(anonymous_20)","decl":{"start":{"line":142,"column":22},"end":{"line":142,"column":23}},"loc":{"start":{"line":142,"column":40},"end":{"line":157,"column":13}},"line":142},"21":{"name":"(anonymous_21)","decl":{"start":{"line":148,"column":72},"end":{"line":148,"column":73}},"loc":{"start":{"line":148,"column":83},"end":{"line":155,"column":21}},"line":148},"22":{"name":"(anonymous_22)","decl":{"start":{"line":158,"column":23},"end":{"line":158,"column":24}},"loc":{"start":{"line":158,"column":34},"end":{"line":160,"column":13}},"line":158},"23":{"name":"(anonymous_23)","decl":{"start":{"line":163,"column":4},"end":{"line":163,"column":5}},"loc":{"start":{"line":163,"column":19},"end":{"line":181,"column":5}},"line":163},"24":{"name":"(anonymous_24)","decl":{"start":{"line":165,"column":27},"end":{"line":165,"column":28}},"loc":{"start":{"line":165,"column":48},"end":{"line":180,"column":9}},"line":165},"25":{"name":"(anonymous_25)","decl":{"start":{"line":167,"column":33},"end":{"line":167,"column":34}},"loc":{"start":{"line":167,"column":51},"end":{"line":179,"column":13}},"line":167},"26":{"name":"(anonymous_26)","decl":{"start":{"line":183,"column":4},"end":{"line":183,"column":5}},"loc":{"start":{"line":183,"column":70},"end":{"line":222,"column":5}},"line":183},"27":{"name":"(anonymous_27)","decl":{"start":{"line":185,"column":22},"end":{"line":185,"column":23}},"loc":{"start":{"line":185,"column":38},"end":{"line":221,"column":9}},"line":185},"28":{"name":"(anonymous_28)","decl":{"start":{"line":187,"column":76},"end":{"line":187,"column":77}},"loc":{"start":{"line":187,"column":91},"end":{"line":220,"column":13}},"line":187},"29":{"name":"(anonymous_29)","decl":{"start":{"line":224,"column":4},"end":{"line":224,"column":5}},"loc":{"start":{"line":224,"column":30},"end":{"line":250,"column":5}},"line":224},"30":{"name":"(anonymous_30)","decl":{"start":{"line":225,"column":27},"end":{"line":225,"column":28}},"loc":{"start":{"line":225,"column":48},"end":{"line":249,"column":9}},"line":225},"31":{"name":"(anonymous_31)","decl":{"start":{"line":239,"column":57},"end":{"line":239,"column":58}},"loc":{"start":{"line":239,"column":74},"end":{"line":246,"column":13}},"line":239},"32":{"name":"(anonymous_32)","decl":{"start":{"line":246,"column":21},"end":{"line":246,"column":22}},"loc":{"start":{"line":246,"column":32},"end":{"line":248,"column":13}},"line":246}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26},"19":{"loc":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},{"start":{"line":47,"column":12},"end":{"line":49,"column":13}}],"line":47},"20":{"loc":{"start":{"line":51,"column":12},"end":{"line":54,"column":13}},"type":"if","locations":[{"start":{"line":51,"column":12},"end":{"line":54,"column":13}},{"start":{"line":51,"column":12},"end":{"line":54,"column":13}}],"line":51},"21":{"loc":{"start":{"line":56,"column":12},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":61,"column":13}},{"start":{"line":56,"column":12},"end":{"line":61,"column":13}}],"line":56},"22":{"loc":{"start":{"line":59,"column":17},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":59,"column":17},"end":{"line":61,"column":13}},{"start":{"line":59,"column":17},"end":{"line":61,"column":13}}],"line":59},"23":{"loc":{"start":{"line":69,"column":12},"end":{"line":71,"column":13}},"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":71,"column":13}},{"start":{"line":69,"column":12},"end":{"line":71,"column":13}}],"line":69},"24":{"loc":{"start":{"line":69,"column":16},"end":{"line":69,"column":64}},"type":"binary-expr","locations":[{"start":{"line":69,"column":16},"end":{"line":69,"column":22}},{"start":{"line":69,"column":26},"end":{"line":69,"column":64}}],"line":69},"25":{"loc":{"start":{"line":85,"column":12},"end":{"line":88,"column":13}},"type":"if","locations":[{"start":{"line":85,"column":12},"end":{"line":88,"column":13}},{"start":{"line":85,"column":12},"end":{"line":88,"column":13}}],"line":85},"26":{"loc":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"type":"if","locations":[{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},{"start":{"line":103,"column":12},"end":{"line":105,"column":13}}],"line":103},"27":{"loc":{"start":{"line":103,"column":16},"end":{"line":103,"column":64}},"type":"binary-expr","locations":[{"start":{"line":103,"column":16},"end":{"line":103,"column":22}},{"start":{"line":103,"column":26},"end":{"line":103,"column":64}}],"line":103},"28":{"loc":{"start":{"line":116,"column":12},"end":{"line":119,"column":13}},"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":119,"column":13}},{"start":{"line":116,"column":12},"end":{"line":119,"column":13}}],"line":116},"29":{"loc":{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},{"start":{"line":136,"column":12},"end":{"line":139,"column":13}}],"line":136},"30":{"loc":{"start":{"line":143,"column":16},"end":{"line":156,"column":17}},"type":"if","locations":[{"start":{"line":143,"column":16},"end":{"line":156,"column":17}},{"start":{"line":143,"column":16},"end":{"line":156,"column":17}}],"line":143},"31":{"loc":{"start":{"line":149,"column":24},"end":{"line":154,"column":25}},"type":"if","locations":[{"start":{"line":149,"column":24},"end":{"line":154,"column":25}},{"start":{"line":149,"column":24},"end":{"line":154,"column":25}}],"line":149},"32":{"loc":{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},"type":"if","locations":[{"start":{"line":168,"column":16},"end":{"line":171,"column":17}},{"start":{"line":168,"column":16},"end":{"line":171,"column":17}}],"line":168},"33":{"loc":{"start":{"line":174,"column":16},"end":{"line":176,"column":17}},"type":"if","locations":[{"start":{"line":174,"column":16},"end":{"line":176,"column":17}},{"start":{"line":174,"column":16},"end":{"line":176,"column":17}}],"line":174},"34":{"loc":{"start":{"line":188,"column":16},"end":{"line":190,"column":17}},"type":"if","locations":[{"start":{"line":188,"column":16},"end":{"line":190,"column":17}},{"start":{"line":188,"column":16},"end":{"line":190,"column":17}}],"line":188},"35":{"loc":{"start":{"line":199,"column":16},"end":{"line":214,"column":17}},"type":"if","locations":[{"start":{"line":199,"column":16},"end":{"line":214,"column":17}},{"start":{"line":199,"column":16},"end":{"line":214,"column":17}}],"line":199},"36":{"loc":{"start":{"line":217,"column":16},"end":{"line":219,"column":17}},"type":"if","locations":[{"start":{"line":217,"column":16},"end":{"line":219,"column":17}},{"start":{"line":217,"column":16},"end":{"line":219,"column":17}}],"line":217}},"s":{"0":1,"1":103,"2":103,"3":103,"4":103,"5":98,"6":3,"7":103,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":103,"21":103,"22":1,"23":1,"24":1,"25":7,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":2,"42":2,"43":1,"44":2,"45":0,"46":0,"47":2,"48":1,"49":1,"50":1,"51":1,"52":1,"53":0,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":0,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":0,"69":1,"70":1,"71":0,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":0,"79":0,"80":1,"81":1,"82":1,"83":1,"84":0,"85":2,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":72,"122":72,"123":72,"124":72,"125":72,"126":72,"127":72,"128":72,"129":72,"130":12,"131":60,"132":28,"133":28,"134":25,"135":3,"136":3,"137":3,"138":57,"139":1},"f":{"0":103,"1":3,"2":0,"3":1,"4":0,"5":1,"6":7,"7":2,"8":2,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":0,"17":2,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":72,"30":72,"31":28,"32":57},"b":{"0":[1,1,1],"1":[1,0],"2":[103,0],"3":[98,5],"4":[103,103],"5":[5,98],"6":[98,5],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[103,0],"15":[103,103],"16":[1,1,1],"17":[6,1],"18":[7,7],"19":[1,1],"20":[0,2],"21":[1,1],"22":[1,0],"23":[0,1],"24":[1,1],"25":[0,1],"26":[0,1],"27":[1,1],"28":[0,1],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/InsightFacade.ts","sources":["C:/Users/aqilf/project_team103/src/controller/InsightFacade.ts"],"names":[],"mappings":"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","sourcesContent":["import JSZip from \"jszip\";\r\nimport {\r\n\tIInsightFacade,\r\n\tInsightDataset,\r\n\tInsightDatasetKind,\r\n\tInsightError,\r\n\tInsightResult,\r\n\tNotFoundError,\r\n\tResultTooLargeError\r\n} from \"./IInsightFacade\";\r\nimport * as fs from \"fs\";\r\nimport path from \"node:path\";\r\nimport Section from \"./Section\";\r\nimport Dataset from \"./Dataset\";\r\nimport QueryOperator from \"./QueryOperator\";\r\nimport HandleDataset from \"./HandleDataset\";\r\nimport WhereOperator from \"./WhereOperator\";\r\nimport OptionsOperator from \"./OptionsOperator\";\r\nimport TransformOperator from \"./TransformOperator\";\r\n\r\nconst fsPromises = require(\"fs\").promises;\r\n\r\nexport default class InsightFacade implements IInsightFacade {\r\n\tprivate datasetsAddedSoFar: Dataset[] = [];\r\n\tprivate idDatasetsAddedSoFar: string[] = [];\r\n\tprivate dir = \"./data\";\r\n\tprivate handleDataset = new HandleDataset();\r\n\r\n\r\n\tpublic addDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]> {\r\n\r\n\t\treturn new Promise<string[]> ( (resolve, reject) => {\r\n\t\t\t// check if there is a data dir\r\n\t\t\tif (!fs.existsSync(this.dir)){\r\n\t\t\t\tfs.mkdirSync(this.dir);\r\n\t\t\t}\r\n\r\n\t\t\t// check if the id is valid\r\n\t\t\tif (!this.isValidID(id)) {\r\n\t\t\t\treject(new InsightError(\"Not a valid ID\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// check if the kind is Sections and not Rooms\r\n\t\t\tif (kind === InsightDatasetKind.Sections) {\r\n\t\t\t\tthis.handleSectionsKind(id, content, reject, resolve);\r\n\t\t\t} else if (kind === InsightDatasetKind.Rooms) {\r\n\t\t\t\tthis.handleRoomsKind(id, content, reject, resolve);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// CAN PROBABLY SOMEHOW MOVE THESE TWO METHODS TO THE HANDLEDATASET CLASS #########################################\r\n\tprivate handleRoomsKind(id: string,\r\n\t\tcontent: string,\r\n\t\treject: (reason?: any) => void,\r\n\t\tresolve: (value: (PromiseLike<string[]> | string[])) => void) {\r\n\r\n\t\t// checks if dataset already exists\r\n\t\tthis.handleDataset.isThereDatasetDir(id)\r\n\t\t\t.then(async (exists) => {\r\n\t\t\t\tif (exists || this.idDatasetsAddedSoFar.includes(id)) {\r\n\t\t\t\t\tthrow new InsightError(\"Dataset already added\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if it does not exist then unzip the dataset and read it\r\n\t\t\t\treturn await JSZip.loadAsync(content, {base64: true});\r\n\t\t\t})\r\n\t\t\t.then(async (zip: JSZip) => {\r\n\t\t\t\tlet currentDataset = new Dataset();\r\n\t\t\t\tcurrentDataset.setIDName(id);\r\n\t\t\t\tcurrentDataset.setKind(InsightDatasetKind.Rooms);\r\n\t\t\t\t// currentDataset.setValidity(true);\r\n\r\n\t\t\t\t// call to helper to handle reading the zip file\r\n//* **************************************************CHANGE THIS LINE**************************************************\r\n\t\t\t\tawait this.handleDataset.handleRoomsZip(zip, reject, currentDataset);\r\n\r\n\t\t\t\tconsole.log(\"length of dataset = \" + currentDataset.getValidRooms().length);\r\n\t\t\t\t// reject if there are no valid sections\r\n\t\t\t\tif (!currentDataset.getValidity()) {\r\n\t\t\t\t\treject(new InsightError(\"No valid rooms in dataset\"));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"length of dataset = \" + currentDataset.getValidRooms().length);\r\n\r\n\t\t\t\tawait this.handleDataset.addDatasetToDisk(currentDataset);\r\n\t\t\t\tthis.datasetsAddedSoFar.push(currentDataset);\r\n\r\n\t\t\t\tthis.idDatasetsAddedSoFar.push(currentDataset.getIDName());\r\n\t\t\t\tresolve(this.idDatasetsAddedSoFar);\r\n\t\t\t})\r\n\t\t\t.catch((error: any) => {\r\n\t\t\t\treject(new InsightError(\"Invalid Content\"));\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate handleSectionsKind(id: string,\r\n\t\tcontent: string,\r\n\t\treject: (reason?: any) => void,\r\n\t\tresolve: (value: (PromiseLike<string[]> | string[])) => void) {\r\n\r\n\t\t// checks if dataset already exists\r\n\t\tthis.handleDataset.isThereDatasetDir(id)\r\n\t\t\t.then(async (exists) => {\r\n\t\t\t\tif (exists || this.idDatasetsAddedSoFar.includes(id)) {\r\n\t\t\t\t\tthrow new InsightError(\"Dataset already added\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if it does not exist then unzip the dataset and read it\r\n\t\t\t\treturn await JSZip.loadAsync(content, {base64: true});\r\n\t\t\t})\r\n\t\t\t.then(async (zip: JSZip) => {\r\n\t\t\t\tlet currentDataset = new Dataset();\r\n\t\t\t\tcurrentDataset.setIDName(id);\r\n\t\t\t\tcurrentDataset.setKind(InsightDatasetKind.Sections);\r\n\t\t\t\t// call to helper to handle reading the zip file\r\n\t\t\t\tawait this.handleDataset.handleSectionsZip(zip, reject, currentDataset);\r\n\r\n\t\t\t\t// reject if there are no valid sections\r\n\t\t\t\tif (!currentDataset.getValidity()) {\r\n\t\t\t\t\treject(new InsightError(\"No valid sections in dataset\"));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait this.handleDataset.addDatasetToDisk(currentDataset);\r\n\t\t\t\tthis.datasetsAddedSoFar.push(currentDataset);\r\n\r\n\t\t\t\tthis.idDatasetsAddedSoFar.push(currentDataset.getIDName());\r\n\t\t\t\tresolve(this.idDatasetsAddedSoFar);\r\n\t\t\t})\r\n\t\t\t.catch((error: any) => {\r\n\t\t\t\treject(new InsightError(\"Invalid Content\"));\r\n\t\t\t});\r\n\t}\r\n\r\n// checks if id provided is valid\r\n\tprivate isValidID(id: string): boolean {\r\n\t\treturn /^[^\\s_]+$/.test(id);\r\n\t}\r\n\r\n\tpublic removeDataset(id: string): Promise<string> {\r\n\t\treturn new Promise<string> ((resolve, reject) => {\r\n\t\t\t// check if the id is valid\r\n\t\t\tif (!this.isValidID(id)) {\r\n\t\t\t\treject(new InsightError(\"Not a valid ID\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// check if dataset exists\r\n\t\t\tthis.handleDataset.isThereDatasetDir(id)\r\n\t\t\t\t.then(async (exists) => {\r\n\t\t\t\t\tif (!exists) {\r\n\t\t\t\t\t\tthrow new NotFoundError(\"Valid ID has not been added yet\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// if so then remove the dataset\r\n\t\t\t\t\t\tfs.unlink(this.handleDataset.getDatasetDirPath(id), (error) => {\r\n\t\t\t\t\t\t\tif (error) {\r\n\t\t\t\t\t\t\t\tthrow new InsightError(\"Error while removing file\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresolve(id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tpublic listDatasets(): Promise<InsightDataset[]>{\r\n\t\tlet result: InsightDataset[] = [];\r\n\r\n\t\treturn new Promise<InsightDataset[]> ((resolve, reject) => {\r\n\t\t\t// read the directory\r\n\t\t\tfs.readdir(this.dir,  (error, files) => {\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tresolve(result);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// keeps track of asynchronous code so that it iterates through all the files before returning\r\n\t\t\t\tlet pendingFiles = files.length;\r\n\t\t\t\tif (pendingFiles === 0) {\r\n\t\t\t\t\tresolve(result);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// iterate through all the added datasets\r\n\t\t\t\tthis.iterateThroughFiles(files, reject, result, pendingFiles, resolve);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t// iterate through all datasets and make them into InsightDatasets and add to the return list\r\n\tprivate iterateThroughFiles(files: string[],\r\n\t\treject: (reason?: any) => void,\r\n\t\tresult: InsightDataset[],\r\n\t\tpendingFiles: number,\r\n\t\tresolve: (value: (PromiseLike<InsightDataset[]> | InsightDataset[])) => void) {\r\n\r\n\t\t// iterate through each file in data dir\r\n\t\tfiles.forEach(async (file) => {\r\n\t\t\t// read the file\r\n\t\t\tfs.readFile(this.handleDataset.getDatasetDirPath(file), \"utf8\", (err, data) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treject(new InsightError(\"Error when reading file\"));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// this sections just makes the InsightDataset object for each dataset\r\n\t\t\t\tconst object = JSON.parse(data);\r\n\t\t\t\t// const currentInsightDataset: InsightDataset = {\r\n\t\t\t\t// \tid: object.idName,\r\n\t\t\t\t// \tkind: InsightDatasetKind.Sections,\r\n\t\t\t\t// \tnumRows: object.validSections.length\r\n\t\t\t\t// };\r\n\t\t\t\t// let currentInsightDataset: any;\r\n\r\n\t\t\t\tif (object.kind === \"sections\") {\r\n\t\t\t\t\tconst currentInsightDataset: InsightDataset = {\r\n\t\t\t\t\t\tid: object.idName,\r\n\t\t\t\t\t\tkind: InsightDatasetKind.Sections,\r\n\t\t\t\t\t\tnumRows: object.validSections.length\r\n\t\t\t\t\t};\r\n\t\t\t\t\tresult.push(currentInsightDataset);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst currentInsightDataset: InsightDataset = {\r\n\t\t\t\t\t\tid: object.idName,\r\n\t\t\t\t\t\tkind: InsightDatasetKind.Rooms,\r\n\t\t\t\t\t\tnumRows: object.validRooms.length\r\n\t\t\t\t\t};\r\n\t\t\t\t\tresult.push(currentInsightDataset);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// to keep track of asynchronous code\r\n\t\t\t\tpendingFiles--;\r\n\r\n\t\t\t\tif (pendingFiles === 0) {\r\n\t\t\t\t\tresolve(result);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// /////////////////////////////////////////////QUERY////////////////////////////////////////////////\r\n\tpublic async performQuery(query: unknown): Promise<InsightResult[]> {\r\n\r\n\t\treturn new Promise<InsightResult[]>( (resolve, reject) => {\r\n\t\t\tlet queryOperator = new QueryOperator(this.idDatasetsAddedSoFar);\r\n\t\t\tlet whereOperator = new WhereOperator(queryOperator);\r\n\t\t\tlet optionsOperator: OptionsOperator = new OptionsOperator(queryOperator);\r\n\t\t\tlet transformOperator: TransformOperator = new TransformOperator(queryOperator);\r\n\t\t\tlet queryS: any = query;\r\n\t\t\ttry {\r\n\t\t\t\tqueryOperator.checkIfValidJson(queryS);\r\n\t\t\t\tqueryOperator.checkBaseEbnf(queryS);\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn reject(error);\r\n\t\t\t}\r\n\r\n\t\t\tlet result: InsightResult[];\r\n\r\n\t\t\twhereOperator.handleWhere(queryS.WHERE).then( (resultWhere) => {\r\n\t\t\t\tresult = queryOperator.convertBoolean(resultWhere);\r\n\t\t\t\tresult = queryOperator.checkResultLength(result);\r\n\t\t\t\tresult = transformOperator.handleTransformations(queryS.TRANSFORMATIONS, result);\r\n\t\t\t\tresult = optionsOperator.handleOptions(queryS.OPTIONS, result);\r\n\t\t\t\tresult = queryOperator.compatibleFormat(result);\r\n\r\n\t\t\t\treturn resolve(result);\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\treturn reject(error);// new InsightError(error.message));\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2b0b7c257b06f80d76b8cf450fbf82ce6e3c962","contentHash":"4c6ccb66770c193f7a378f2c984ffb78555dfa65fdb5f4d6b9780b12ee08ab6e"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\IInsightFacade.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\IInsightFacade.ts","statementMap":{"0":{"start":{"line":7,"column":0},"end":{"line":7,"column":62}},"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":113}},"2":{"start":{"line":10,"column":0},"end":{"line":13,"column":89}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":42}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":23}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":52}},"7":{"start":{"line":20,"column":0},"end":{"line":20,"column":36}},"8":{"start":{"line":23,"column":8},"end":{"line":23,"column":23}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":53}},"10":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}},"11":{"start":{"line":30,"column":8},"end":{"line":30,"column":23}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":59}},"13":{"start":{"line":34,"column":0},"end":{"line":34,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":1},"end":{"line":10,"column":2}},"loc":{"start":{"line":10,"column":31},"end":{"line":13,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":25},"end":{"line":18,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":25},"end":{"line":25,"column":5}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":25},"end":{"line":32,"column":5}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":24},"end":{"line":13,"column":87}},"type":"binary-expr","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":50}},{"start":{"line":13,"column":55},"end":{"line":13,"column":86}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":45,"6":45,"7":1,"8":0,"9":0,"10":1,"11":3,"12":3,"13":1},"f":{"0":1,"1":45,"2":0,"3":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/IInsightFacade.ts","sources":["C:/Users/aqilf/project_team103/src/controller/IInsightFacade.ts"],"names":[],"mappings":";AAAA;;;;GAIG;;;AAEH,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IACzB,2CAAqB,CAAA;IACrB,qCAAe,CAAA;AACpB,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAYD,MAAa,YAAa,SAAQ,KAAK;IACtC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAC7C,CAAC;CACD;AALD,oCAKC;AAED,MAAa,aAAc,SAAQ,KAAK;IACvC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC;CACD;AALD,sCAKC;AAED,MAAa,mBAAoB,SAAQ,KAAK;IAC7C,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;IACpD,CAAC;CACD;AALD,kDAKC","sourcesContent":["/*\r\n * This is the primary high-level API for the project. In this folder there should be:\r\n * A class called InsightFacade, this should be in a file called InsightFacade.ts.\r\n * You should not change this interface at all or the test suite will not work.\r\n */\r\n\r\nexport enum InsightDatasetKind {\r\n     Sections = \"sections\",\r\n     Rooms = \"rooms\",\r\n}\r\n\r\nexport interface InsightDataset {\r\n     id: string;\r\n     kind: InsightDatasetKind;\r\n     numRows: number;\r\n}\r\n\r\nexport interface InsightResult {\r\n     [key: string]: string | number;\r\n}\r\n\r\nexport class InsightError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, InsightError);\r\n\t}\r\n}\r\n\r\nexport class NotFoundError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, NotFoundError);\r\n\t}\r\n}\r\n\r\nexport class ResultTooLargeError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, ResultTooLargeError);\r\n\t}\r\n}\r\n\r\nexport interface IInsightFacade {\r\n    /**\r\n     * Add a dataset to insightUBC.\r\n     *\r\n     * @param id  The id of the dataset being added.\r\n     * @param content  The base64 content of the dataset. This content should be in the form of a serialized zip file.\r\n     * @param kind  The kind of the dataset\r\n     *\r\n     * @return Promise <string[]>\r\n     *\r\n     * The promise should fulfill on a successful add, reject for any failures.\r\n     * The promise should fulfill with a string array,\r\n     * containing the ids of all currently added datasets upon a successful add.\r\n     * The promise should reject with an InsightError describing the error.\r\n     *\r\n     * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n     * If id is the same as the id of an already added dataset, the dataset should be rejected and not saved.\r\n     *\r\n     * After receiving the dataset, it should be processed into a data structure of\r\n     * your design. The processed data structure should be persisted to disk; your\r\n     * system should be able to load this persisted value into memory for answering\r\n     * queries.\r\n     *\r\n     * Ultimately, a dataset must be added or loaded from disk before queries can\r\n     * be successfully answered.\r\n     */\r\n     addDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]>;\r\n\r\n\r\n    /**\r\n     * Remove a dataset from insightUBC.\r\n     *\r\n     * @param id  The id of the dataset to remove.\r\n     *\r\n     * @return Promise <string>\r\n     *\r\n     * The promise should fulfill upon a successful removal. Reject on any error.\r\n     * A removed dataset behaves as if it never existed in the system (i.e. it was never added).\r\n     * Attempting to remove a dataset that hasn't been added yet counts as an error.\r\n     *\r\n     * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n     *\r\n     * The promise should fulfill with the id of the dataset that was removed.\r\n     * The promise should reject with a NotFoundError (if a valid id was not yet added)\r\n     * or an InsightError (invalid id or any other source of failure) describing the error.\r\n     */\r\n     removeDataset(id: string): Promise<string>;\r\n\r\n\r\n    /**\r\n     * Perform a query on insightUBC.\r\n     *\r\n     * @param query  The query to be performed.\r\n     *\r\n     * If a query is incorrectly formatted, references a dataset not added (in memory or on disk),\r\n     * or references multiple datasets, it should be rejected with an InsightError.\r\n     * If a query would return more than 5000 results, it should be rejected with a ResultTooLargeError.\r\n     *\r\n     * @return Promise <InsightResult[]>\r\n     *\r\n     * The promise should fulfill with an array of results.\r\n     * The promise should reject with an InsightError describing the error.\r\n     */\r\n     performQuery(query: unknown): Promise<InsightResult[]>;\r\n\r\n\r\n    /**\r\n     * List all currently added datasets, their types, and number of rows.\r\n     *\r\n     * @return Promise <InsightDataset[]>\r\n     * The promise should fulfill an array of currently added InsightDatasets, and will only fulfill.\r\n     */\r\n     listDatasets(): Promise<InsightDataset[]>;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"97974f588488b95c6a673a0d17017b9011f94a0e","contentHash":"6537c229fbb79416583b0243432d3757b27e3e8be07a6a113e088174a528eef7"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\Dataset.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\Dataset.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"2":{"start":{"line":5,"column":13},"end":{"line":5,"column":15}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":22}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":19}},"5":{"start":{"line":8,"column":11},"end":{"line":8,"column":55}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":26}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":25}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":41}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":35}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":32}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":35}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":27}},"13":{"start":{"line":29,"column":8},"end":{"line":29,"column":34}},"14":{"start":{"line":32,"column":8},"end":{"line":32,"column":31}},"15":{"start":{"line":35,"column":8},"end":{"line":35,"column":25}},"16":{"start":{"line":38,"column":8},"end":{"line":38,"column":35}},"17":{"start":{"line":41,"column":0},"end":{"line":41,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":12,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":23},"end":{"line":18,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":25},"end":{"line":21,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":22},"end":{"line":24,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":16},"end":{"line":27,"column":5}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":23},"end":{"line":30,"column":5}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":20},"end":{"line":33,"column":5}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":14},"end":{"line":36,"column":5}},"line":34},"9":{"name":"(anonymous_9)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":18},"end":{"line":39,"column":5}},"line":37}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":64612,"9":364,"10":2,"11":64976,"12":4,"13":0,"14":2,"15":0,"16":2,"17":1},"f":{"0":2,"1":64612,"2":364,"3":2,"4":64976,"5":4,"6":0,"7":2,"8":0,"9":2},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/Dataset.ts","sources":["C:/Users/aqilf/project_team103/src/controller/Dataset.ts"],"names":[],"mappings":";;AACA,qDAAoD;AAGpD,MAAqB,OAAO;IACnB,MAAM,GAAW,EAAE,CAAC;IACpB,aAAa,GAAc,EAAE,CAAC;IAC9B,UAAU,GAAW,EAAE,CAAC;IACxB,IAAI,GAAuB,mCAAkB,CAAC,QAAQ,CAAC;IACvD,cAAc,GAAY,KAAK,CAAC;IAEjC,SAAS,CAAC,EAAU;QAC1B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IAClB,CAAC;IAEM,eAAe,CAAC,OAAgB;QACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAEM,YAAY,CAAC,IAAU;QAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAEM,OAAO,CAAC,WAA+B;QAC7C,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;IACzB,CAAC;IAEM,WAAW,CAAC,IAAa;QAC/B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEM,SAAS;QACf,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAEM,gBAAgB;QACtB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC3B,CAAC;IAEM,aAAa;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC;IACxB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,WAAW;QACjB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC5B,CAAC;CACD;AA9CD,0BA8CC","sourcesContent":["import Section from \"./Section\";\r\nimport {InsightDatasetKind} from \"./IInsightFacade\";\r\nimport Room from \"./Room\";\r\n\r\nexport default class Dataset {\r\n\tprivate idName: string = \"\";\r\n\tprivate validSections: Section[] = [];\r\n\tprivate validRooms: Room[] = [];\r\n\tprivate kind: InsightDatasetKind = InsightDatasetKind.Sections;\r\n\tprivate isValidDataset: boolean = false;\r\n\r\n\tpublic setIDName(id: string) {\r\n\t\tthis.idName = id;\r\n\t}\r\n\r\n\tpublic addValidSection(section: Section) {\r\n\t\tthis.validSections.push(section);\r\n\t}\r\n\r\n\tpublic addValidRoom(room: Room) {\r\n\t\tthis.validRooms.push(room);\r\n\t}\r\n\r\n\tpublic setKind(datasetKind: InsightDatasetKind) {\r\n\t\tthis.kind = datasetKind;\r\n\t}\r\n\r\n\tpublic setValidity(bool: boolean) {\r\n\t\tthis.isValidDataset = bool;\r\n\t}\r\n\r\n\tpublic getIDName() {\r\n\t\treturn this.idName;\r\n\t}\r\n\r\n\tpublic getValidSections() {\r\n\t\treturn this.validSections;\r\n\t}\r\n\r\n\tpublic getValidRooms() {\r\n\t\treturn this.validRooms;\r\n\t}\r\n\r\n\tpublic getKind() {\r\n\t\treturn this.kind;\r\n\t}\r\n\r\n\tpublic getValidity() {\r\n\t\treturn this.isValidDataset;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cd6074a63252b404c28417c88c3f65dd2832d1c7","contentHash":"c48fd22c2dcd1c30da1a80e083beff2225bb6738287c1209273b3f968e46dfa1"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\QueryOperator.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\QueryOperator.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":57}},"5":{"start":{"line":9,"column":21},"end":{"line":9,"column":23}},"6":{"start":{"line":10,"column":24},"end":{"line":10,"column":26}},"7":{"start":{"line":11,"column":10},"end":{"line":11,"column":18}},"8":{"start":{"line":12,"column":27},"end":{"line":12,"column":29}},"9":{"start":{"line":13,"column":17},"end":{"line":13,"column":19}},"10":{"start":{"line":14,"column":11},"end":{"line":14,"column":74}},"11":{"start":{"line":15,"column":11},"end":{"line":16,"column":90}},"12":{"start":{"line":17,"column":17},"end":{"line":17,"column":37}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":47}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":38}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":31}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"17":{"start":{"line":31,"column":8},"end":{"line":31,"column":38}},"18":{"start":{"line":34,"column":8},"end":{"line":34,"column":35}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":41}},"20":{"start":{"line":40,"column":8},"end":{"line":40,"column":59}},"21":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"22":{"start":{"line":44,"column":12},"end":{"line":44,"column":79}},"23":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"24":{"start":{"line":47,"column":12},"end":{"line":47,"column":25}},"25":{"start":{"line":49,"column":22},"end":{"line":49,"column":38}},"26":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"27":{"start":{"line":52,"column":12},"end":{"line":52,"column":76}},"28":{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},"29":{"start":{"line":55,"column":12},"end":{"line":55,"column":88}},"30":{"start":{"line":57,"column":8},"end":{"line":57,"column":30}},"31":{"start":{"line":60,"column":8},"end":{"line":65,"column":9}},"32":{"start":{"line":61,"column":12},"end":{"line":61,"column":34}},"33":{"start":{"line":64,"column":12},"end":{"line":64,"column":73}},"34":{"start":{"line":68,"column":26},"end":{"line":68,"column":45}},"35":{"start":{"line":69,"column":8},"end":{"line":75,"column":9}},"36":{"start":{"line":70,"column":12},"end":{"line":70,"column":19}},"37":{"start":{"line":72,"column":13},"end":{"line":75,"column":9}},"38":{"start":{"line":74,"column":12},"end":{"line":74,"column":19}},"39":{"start":{"line":76,"column":8},"end":{"line":76,"column":88}},"40":{"start":{"line":79,"column":26},"end":{"line":83,"column":10}},"41":{"start":{"line":80,"column":12},"end":{"line":82,"column":13}},"42":{"start":{"line":81,"column":16},"end":{"line":81,"column":28}},"43":{"start":{"line":84,"column":8},"end":{"line":84,"column":25}},"44":{"start":{"line":87,"column":23},"end":{"line":87,"column":56}},"45":{"start":{"line":88,"column":27},"end":{"line":88,"column":47}},"46":{"start":{"line":89,"column":8},"end":{"line":100,"column":11}},"47":{"start":{"line":90,"column":27},"end":{"line":90,"column":29}},"48":{"start":{"line":91,"column":12},"end":{"line":98,"column":15}},"49":{"start":{"line":92,"column":16},"end":{"line":97,"column":17}},"50":{"start":{"line":93,"column":20},"end":{"line":93,"column":40}},"51":{"start":{"line":96,"column":20},"end":{"line":96,"column":54}},"52":{"start":{"line":99,"column":12},"end":{"line":99,"column":26}},"53":{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},"54":{"start":{"line":104,"column":12},"end":{"line":104,"column":87}},"55":{"start":{"line":106,"column":8},"end":{"line":106,"column":22}},"56":{"start":{"line":109,"column":0},"end":{"line":109,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":28},"end":{"line":20,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":27},"end":{"line":23,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":20},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":28},"end":{"line":29,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":24},"end":{"line":32,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":17},"end":{"line":35,"column":5}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":20},"end":{"line":38,"column":5}},"line":36},"8":{"name":"(anonymous_8)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":26},"end":{"line":41,"column":5}},"line":39},"9":{"name":"(anonymous_9)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":22},"end":{"line":58,"column":5}},"line":42},"10":{"name":"(anonymous_10)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":28},"end":{"line":66,"column":5}},"line":59},"11":{"name":"(anonymous_11)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":26},"end":{"line":77,"column":5}},"line":67},"12":{"name":"(anonymous_12)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":28},"end":{"line":85,"column":5}},"line":78},"13":{"name":"(anonymous_13)","decl":{"start":{"line":79,"column":51},"end":{"line":79,"column":52}},"loc":{"start":{"line":79,"column":69},"end":{"line":83,"column":9}},"line":79},"14":{"name":"(anonymous_14)","decl":{"start":{"line":86,"column":4},"end":{"line":86,"column":5}},"loc":{"start":{"line":86,"column":29},"end":{"line":101,"column":5}},"line":86},"15":{"name":"(anonymous_15)","decl":{"start":{"line":89,"column":26},"end":{"line":89,"column":27}},"loc":{"start":{"line":89,"column":35},"end":{"line":100,"column":9}},"line":89},"16":{"name":"(anonymous_16)","decl":{"start":{"line":91,"column":40},"end":{"line":91,"column":41}},"loc":{"start":{"line":91,"column":58},"end":{"line":98,"column":13}},"line":91},"17":{"name":"(anonymous_17)","decl":{"start":{"line":102,"column":4},"end":{"line":102,"column":5}},"loc":{"start":{"line":102,"column":30},"end":{"line":107,"column":5}},"line":102}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},{"start":{"line":43,"column":8},"end":{"line":45,"column":9}}],"line":43},"4":{"loc":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},{"start":{"line":46,"column":8},"end":{"line":48,"column":9}}],"line":46},"5":{"loc":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},{"start":{"line":51,"column":8},"end":{"line":53,"column":9}}],"line":51},"6":{"loc":{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},{"start":{"line":54,"column":8},"end":{"line":56,"column":9}}],"line":54},"7":{"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":74}},"type":"binary-expr","locations":[{"start":{"line":54,"column":14},"end":{"line":54,"column":42}},{"start":{"line":54,"column":46},"end":{"line":54,"column":74}}],"line":54},"8":{"loc":{"start":{"line":57,"column":15},"end":{"line":57,"column":29}},"type":"binary-expr","locations":[{"start":{"line":57,"column":15},"end":{"line":57,"column":23}},{"start":{"line":57,"column":27},"end":{"line":57,"column":29}}],"line":57},"9":{"loc":{"start":{"line":69,"column":8},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":75,"column":9}},{"start":{"line":69,"column":8},"end":{"line":75,"column":9}}],"line":69},"10":{"loc":{"start":{"line":69,"column":12},"end":{"line":69,"column":98}},"type":"binary-expr","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":34}},{"start":{"line":69,"column":38},"end":{"line":69,"column":65}},{"start":{"line":69,"column":69},"end":{"line":69,"column":98}}],"line":69},"11":{"loc":{"start":{"line":72,"column":13},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":13},"end":{"line":75,"column":9}},{"start":{"line":72,"column":13},"end":{"line":75,"column":9}}],"line":72},"12":{"loc":{"start":{"line":72,"column":17},"end":{"line":73,"column":49}},"type":"binary-expr","locations":[{"start":{"line":72,"column":17},"end":{"line":72,"column":39}},{"start":{"line":72,"column":43},"end":{"line":72,"column":70}},{"start":{"line":72,"column":74},"end":{"line":72,"column":103}},{"start":{"line":73,"column":12},"end":{"line":73,"column":49}}],"line":72},"13":{"loc":{"start":{"line":80,"column":12},"end":{"line":82,"column":13}},"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":82,"column":13}},{"start":{"line":80,"column":12},"end":{"line":82,"column":13}}],"line":80},"14":{"loc":{"start":{"line":92,"column":16},"end":{"line":97,"column":17}},"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":97,"column":17}},{"start":{"line":92,"column":16},"end":{"line":97,"column":17}}],"line":92},"15":{"loc":{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":105,"column":9}},{"start":{"line":103,"column":8},"end":{"line":105,"column":9}}],"line":103}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":72,"6":72,"7":72,"8":72,"9":72,"10":72,"11":72,"12":72,"13":72,"14":115,"15":3,"16":54,"17":54,"18":77,"19":62,"20":54,"21":53,"22":0,"23":53,"24":3,"25":50,"26":50,"27":0,"28":50,"29":0,"30":50,"31":72,"32":72,"33":0,"34":72,"35":72,"36":57,"37":15,"38":3,"39":12,"40":28,"41":1680640,"42":74775,"43":28,"44":3,"45":3,"46":3,"47":12,"48":12,"49":24,"50":12,"51":12,"52":12,"53":28,"54":3,"55":25,"56":1},"f":{"0":1,"1":72,"2":115,"3":3,"4":54,"5":54,"6":77,"7":62,"8":54,"9":53,"10":72,"11":72,"12":28,"13":1680640,"14":3,"15":12,"16":24,"17":28},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,53],"4":[3,50],"5":[0,50],"6":[0,50],"7":[50,44],"8":[50,0],"9":[57,15],"10":[72,61,59],"11":[3,12],"12":[15,4,4,4],"13":[74775,1605865],"14":[12,12],"15":[3,25]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/QueryOperator.ts","sources":["C:/Users/aqilf/project_team103/src/controller/QueryOperator.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tInsightError,\r\n\tInsightResult,\r\n\tResultTooLargeError,\r\n} from \"./IInsightFacade\";\r\nimport path from \"node:path\";\r\n\r\nexport default class QueryOperator {\r\n\r\n\tprotected datasetToQuery: InsightResult[] = [];\r\n\tprotected _datasetToQueryId: string = \"\";\r\n\tprotected dir = \"./data\";\r\n\tprotected idDatasetsAddedSoFar: string[] = [];\r\n\tpublic applyNames: string[] = [];\r\n\r\n\tpublic mkey = [\"avg\", \"pass\", \"fail\", \"audit\", \"year\", \"lat\", \"lon\", \"seats\"];\r\n\tpublic skey = [\"dept\", \"id\", \"instructor\", \"title\", \"uuid\",\r\n\t\t\"fullname\" , \"shortname\" , \"number\" , \"name\" , \"address\" , \"type\" , \"furniture\" , \"href\"];\r\n\r\n\tpublic optionsKey = [\"COLUMNS\", \"ORDER\"];\r\n\r\n\r\n\tconstructor(idDatasets: string[]) {\r\n\t\tthis.idDatasetsAddedSoFar = idDatasets;\r\n\t}\r\n\r\n\tpublic getQueryingDatasetId(): string {\r\n\t\treturn this._datasetToQueryId;\r\n\r\n\t}\r\n\r\n\tpublic getApplyNames(): string[] {\r\n\t\treturn this.applyNames;\r\n\r\n\t}\r\n\r\n\tpublic setDatasetToQueryId(id: string): void {\r\n\t\tthis._datasetToQueryId = id;\r\n\t}\r\n\r\n\tpublic setDataset(dataset: InsightResult[]){\r\n\t\tthis.datasetToQuery = dataset;\r\n\t}\r\n\r\n\tpublic getDataset(): InsightResult[] {\r\n\t\treturn this.datasetToQuery;\r\n\t}\r\n\r\n\tpublic getDatasetIds(): string[] {\r\n\t\treturn this.idDatasetsAddedSoFar;\r\n\t}\n\r\n\tpublic getDatasetDirPath(id: string): string {\r\n\t\treturn path.join(this.dir, `${id}`);\r\n\t}\r\n\r\n\tpublic parseField(field: string) {\r\n\t\tif (typeof field !== \"string\") {\r\n\t\t\tthrow new InsightError(\"Invalid type in OPTIONS\");\r\n\t\t}\r\n\r\n\t\tif (this.applyNames.includes(field)) {\r\n\t\t\treturn field;\r\n\t\t}\r\n\r\n\t\tconst parts = field.split(\"_\");\r\n\t\t// Check if there is a second part; if not, return an empty string or the original item\r\n\r\n\t\tif (this.getQueryingDatasetId() !== String(parts[0])) {\r\n\t\t\tthrow new InsightError(\"Querying 2 Datasets.\");\r\n\t\t}\r\n\r\n\t\tif (!(this.mkey.includes(parts[1]) || this.skey.includes(parts[1]))) {\r\n\t\t\tthrow new InsightError(\"Invalid mkey or skey in columns.\");\r\n\t\t}\r\n\r\n\t\treturn parts[1] || \"\";\r\n\t}\n\r\n\tpublic checkIfValidJson(query: any): void {\r\n\t\ttry {\r\n\t\t\tJSON.stringify(query);\r\n\t\t} catch (error) {\r\n\t\t\tthrow new InsightError(\"Not a valid JSON.\");  // Not a string, can't be JSON\r\n\t\t}\r\n\t}\r\n\r\n\tpublic  checkBaseEbnf(queryS: any) {\r\n\t\tconst keysArray = Object.keys(queryS);\r\n\t\tif (keysArray.length === 2 && keysArray.includes(\"WHERE\") && keysArray.includes(\"OPTIONS\")) {\r\n\t\t\treturn;\r\n\t\t} else if (keysArray.length === 3 && keysArray.includes(\"WHERE\") && keysArray.includes(\"OPTIONS\") &&\r\n\t\t\tkeysArray.includes(\"TRANSFORMATIONS\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthrow new InsightError(\"Invalid query! (No OPTIONS or WHERE)\");\r\n\t}\r\n\r\n\tpublic convertBoolean(boolArr: boolean[]): InsightResult[] {\r\n\t\tconst converted: InsightResult[] = this.getDataset().filter((value, index) => {\r\n\t\t\tif (boolArr[index]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn converted;\r\n\t}\r\n\r\n\tpublic compatibleFormat(result: InsightResult[]) {\r\n\t\tconst prefix: string = this.getQueryingDatasetId() + \"_\";\r\n\t\tconst applyNames: string[] = this.getApplyNames();\r\n\r\n\t\treturn result.map((obj) => {\r\n\t\t\tconst newObj: InsightResult = {};\r\n\t\t\tObject.entries(obj).forEach(([key, value]) => {\r\n\t\t\t\tif (applyNames.includes(key)) {\r\n\t\t\t\t\tnewObj[key] = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewObj[`${prefix}${key}`] = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn newObj;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic checkResultLength(result: InsightResult[]): InsightResult[] {\r\n\t\tif (result.length > 5000) {\r\n\t\t\tthrow new ResultTooLargeError(\"Result greater than 5000\");\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aae954bf3d57fe6ffbed04c3d0981cac2ed0f083","contentHash":"830fd57ebb87e79dfc50abceb8df5cc1e22b465c7f620889bdae5691d2e70adc"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\HandleDataset.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\HandleDataset.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":57}},"5":{"start":{"line":8,"column":18},"end":{"line":8,"column":55}},"6":{"start":{"line":10,"column":17},"end":{"line":10,"column":34}},"7":{"start":{"line":11,"column":24},"end":{"line":11,"column":67}},"8":{"start":{"line":12,"column":19},"end":{"line":12,"column":41}},"9":{"start":{"line":15,"column":10},"end":{"line":15,"column":18}},"10":{"start":{"line":16,"column":25},"end":{"line":16,"column":27}},"11":{"start":{"line":19,"column":25},"end":{"line":19,"column":60}},"12":{"start":{"line":20,"column":22},"end":{"line":20,"column":65}},"13":{"start":{"line":21,"column":8},"end":{"line":26,"column":9}},"14":{"start":{"line":22,"column":12},"end":{"line":22,"column":58}},"15":{"start":{"line":25,"column":12},"end":{"line":25,"column":81}},"16":{"start":{"line":30,"column":8},"end":{"line":30,"column":59}},"17":{"start":{"line":34,"column":8},"end":{"line":39,"column":9}},"18":{"start":{"line":35,"column":12},"end":{"line":35,"column":60}},"19":{"start":{"line":38,"column":12},"end":{"line":38,"column":82}},"20":{"start":{"line":43,"column":8},"end":{"line":50,"column":11}},"21":{"start":{"line":44,"column":29},"end":{"line":44,"column":55}},"22":{"start":{"line":45,"column":12},"end":{"line":49,"column":15}},"23":{"start":{"line":46,"column":16},"end":{"line":46,"column":30}},"24":{"start":{"line":48,"column":16},"end":{"line":48,"column":31}},"25":{"start":{"line":54,"column":29},"end":{"line":54,"column":245}},"26":{"start":{"line":55,"column":8},"end":{"line":60,"column":9}},"27":{"start":{"line":56,"column":12},"end":{"line":56,"column":34}},"28":{"start":{"line":59,"column":12},"end":{"line":59,"column":83}},"29":{"start":{"line":64,"column":8},"end":{"line":73,"column":46}},"30":{"start":{"line":77,"column":25},"end":{"line":77,"column":27}},"31":{"start":{"line":78,"column":34},"end":{"line":78,"column":39}},"32":{"start":{"line":80,"column":8},"end":{"line":109,"column":11}},"33":{"start":{"line":81,"column":12},"end":{"line":108,"column":13}},"34":{"start":{"line":84,"column":16},"end":{"line":84,"column":43}},"35":{"start":{"line":86,"column":16},"end":{"line":107,"column":20}},"36":{"start":{"line":88,"column":20},"end":{"line":104,"column":21}},"37":{"start":{"line":89,"column":54},"end":{"line":89,"column":79}},"38":{"start":{"line":90,"column":37},"end":{"line":90,"column":67}},"39":{"start":{"line":91,"column":24},"end":{"line":100,"column":25}},"40":{"start":{"line":93,"column":28},"end":{"line":99,"column":29}},"41":{"start":{"line":94,"column":49},"end":{"line":94,"column":75}},"42":{"start":{"line":95,"column":32},"end":{"line":98,"column":33}},"43":{"start":{"line":96,"column":36},"end":{"line":96,"column":62}},"44":{"start":{"line":97,"column":36},"end":{"line":97,"column":72}},"45":{"start":{"line":103,"column":24},"end":{"line":103,"column":94}},"46":{"start":{"line":106,"column":20},"end":{"line":106,"column":92}},"47":{"start":{"line":110,"column":8},"end":{"line":110,"column":36}},"48":{"start":{"line":111,"column":8},"end":{"line":113,"column":9}},"49":{"start":{"line":112,"column":12},"end":{"line":112,"column":80}},"50":{"start":{"line":176,"column":8},"end":{"line":176,"column":83}},"51":{"start":{"line":177,"column":25},"end":{"line":177,"column":27}},"52":{"start":{"line":178,"column":35},"end":{"line":178,"column":40}},"53":{"start":{"line":179,"column":25},"end":{"line":179,"column":30}},"54":{"start":{"line":181,"column":8},"end":{"line":190,"column":11}},"55":{"start":{"line":184,"column":12},"end":{"line":189,"column":13}},"56":{"start":{"line":186,"column":16},"end":{"line":186,"column":34}},"57":{"start":{"line":188,"column":16},"end":{"line":188,"column":64}},"58":{"start":{"line":191,"column":8},"end":{"line":191,"column":34}},"59":{"start":{"line":192,"column":8},"end":{"line":192,"column":36}},"60":{"start":{"line":193,"column":8},"end":{"line":210,"column":11}},"61":{"start":{"line":195,"column":12},"end":{"line":200,"column":13}},"62":{"start":{"line":198,"column":16},"end":{"line":198,"column":68}},"63":{"start":{"line":201,"column":12},"end":{"line":209,"column":13}},"64":{"start":{"line":203,"column":16},"end":{"line":208,"column":17}},"65":{"start":{"line":204,"column":20},"end":{"line":204,"column":80}},"66":{"start":{"line":207,"column":20},"end":{"line":207,"column":68}},"67":{"start":{"line":211,"column":8},"end":{"line":211,"column":37}},"68":{"start":{"line":212,"column":8},"end":{"line":212,"column":36}},"69":{"start":{"line":219,"column":8},"end":{"line":233,"column":12}},"70":{"start":{"line":221,"column":12},"end":{"line":230,"column":13}},"71":{"start":{"line":222,"column":36},"end":{"line":222,"column":65}},"72":{"start":{"line":223,"column":33},"end":{"line":223,"column":113}},"73":{"start":{"line":225,"column":16},"end":{"line":225,"column":82}},"74":{"start":{"line":228,"column":16},"end":{"line":228,"column":35}},"75":{"start":{"line":229,"column":16},"end":{"line":229,"column":96}},"76":{"start":{"line":232,"column":12},"end":{"line":232,"column":84}},"77":{"start":{"line":236,"column":8},"end":{"line":251,"column":12}},"78":{"start":{"line":239,"column":12},"end":{"line":248,"column":13}},"79":{"start":{"line":240,"column":45},"end":{"line":240,"column":74}},"80":{"start":{"line":241,"column":33},"end":{"line":241,"column":113}},"81":{"start":{"line":242,"column":16},"end":{"line":242,"column":83}},"82":{"start":{"line":246,"column":16},"end":{"line":246,"column":35}},"83":{"start":{"line":247,"column":16},"end":{"line":247,"column":95}},"84":{"start":{"line":250,"column":12},"end":{"line":250,"column":84}},"85":{"start":{"line":254,"column":0},"end":{"line":254,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":36},"end":{"line":27,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":26},"end":{"line":31,"column":5}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":45},"end":{"line":40,"column":5}},"line":33},"4":{"name":"(anonymous_4)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":32},"end":{"line":51,"column":5}},"line":42},"5":{"name":"(anonymous_5)","decl":{"start":{"line":43,"column":27},"end":{"line":43,"column":28}},"loc":{"start":{"line":43,"column":48},"end":{"line":50,"column":9}},"line":43},"6":{"name":"(anonymous_6)","decl":{"start":{"line":45,"column":45},"end":{"line":45,"column":46}},"loc":{"start":{"line":45,"column":51},"end":{"line":47,"column":13}},"line":45},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":21},"end":{"line":47,"column":22}},"loc":{"start":{"line":47,"column":27},"end":{"line":49,"column":13}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":26},"end":{"line":61,"column":5}},"line":53},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":29},"end":{"line":74,"column":5}},"line":63},"10":{"name":"(anonymous_10)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":50},"end":{"line":114,"column":5}},"line":76},"11":{"name":"(anonymous_11)","decl":{"start":{"line":80,"column":20},"end":{"line":80,"column":21}},"loc":{"start":{"line":80,"column":48},"end":{"line":109,"column":9}},"line":80},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":60},"end":{"line":86,"column":61}},"loc":{"start":{"line":86,"column":79},"end":{"line":105,"column":17}},"line":86},"13":{"name":"(anonymous_13)","decl":{"start":{"line":105,"column":25},"end":{"line":105,"column":26}},"loc":{"start":{"line":105,"column":36},"end":{"line":107,"column":17}},"line":105},"14":{"name":"(anonymous_14)","decl":{"start":{"line":175,"column":4},"end":{"line":175,"column":5}},"loc":{"start":{"line":175,"column":47},"end":{"line":217,"column":5}},"line":175},"15":{"name":"(anonymous_15)","decl":{"start":{"line":181,"column":20},"end":{"line":181,"column":21}},"loc":{"start":{"line":181,"column":54},"end":{"line":190,"column":9}},"line":181},"16":{"name":"(anonymous_16)","decl":{"start":{"line":193,"column":20},"end":{"line":193,"column":21}},"loc":{"start":{"line":193,"column":54},"end":{"line":210,"column":9}},"line":193},"17":{"name":"(anonymous_17)","decl":{"start":{"line":218,"column":4},"end":{"line":218,"column":5}},"loc":{"start":{"line":218,"column":47},"end":{"line":234,"column":5}},"line":218},"18":{"name":"(anonymous_18)","decl":{"start":{"line":219,"column":52},"end":{"line":219,"column":53}},"loc":{"start":{"line":219,"column":77},"end":{"line":231,"column":9}},"line":219},"19":{"name":"(anonymous_19)","decl":{"start":{"line":231,"column":17},"end":{"line":231,"column":18}},"loc":{"start":{"line":231,"column":28},"end":{"line":233,"column":9}},"line":231},"20":{"name":"(anonymous_20)","decl":{"start":{"line":235,"column":4},"end":{"line":235,"column":5}},"loc":{"start":{"line":235,"column":59},"end":{"line":252,"column":5}},"line":235},"21":{"name":"(anonymous_21)","decl":{"start":{"line":236,"column":52},"end":{"line":236,"column":53}},"loc":{"start":{"line":236,"column":77},"end":{"line":249,"column":9}},"line":236},"22":{"name":"(anonymous_22)","decl":{"start":{"line":249,"column":17},"end":{"line":249,"column":18}},"loc":{"start":{"line":249,"column":28},"end":{"line":251,"column":9}},"line":249}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":54,"column":133},"end":{"line":54,"column":192}},"type":"cond-expr","locations":[{"start":{"line":54,"column":166},"end":{"line":54,"column":170}},{"start":{"line":54,"column":173},"end":{"line":54,"column":192}}],"line":54},"4":{"loc":{"start":{"line":55,"column":8},"end":{"line":60,"column":9}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":60,"column":9}},{"start":{"line":55,"column":8},"end":{"line":60,"column":9}}],"line":55},"5":{"loc":{"start":{"line":64,"column":17},"end":{"line":73,"column":44}},"type":"binary-expr","locations":[{"start":{"line":64,"column":17},"end":{"line":64,"column":53}},{"start":{"line":65,"column":12},"end":{"line":65,"column":47}},{"start":{"line":66,"column":12},"end":{"line":66,"column":44}},{"start":{"line":67,"column":12},"end":{"line":67,"column":49}},{"start":{"line":68,"column":12},"end":{"line":68,"column":49}},{"start":{"line":69,"column":12},"end":{"line":69,"column":43}},{"start":{"line":70,"column":12},"end":{"line":70,"column":42}},{"start":{"line":71,"column":12},"end":{"line":71,"column":43}},{"start":{"line":72,"column":12},"end":{"line":72,"column":43}},{"start":{"line":73,"column":12},"end":{"line":73,"column":44}}],"line":64},"6":{"loc":{"start":{"line":81,"column":12},"end":{"line":108,"column":13}},"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":108,"column":13}},{"start":{"line":81,"column":12},"end":{"line":108,"column":13}}],"line":81},"7":{"loc":{"start":{"line":81,"column":16},"end":{"line":83,"column":46}},"type":"binary-expr","locations":[{"start":{"line":81,"column":16},"end":{"line":81,"column":50}},{"start":{"line":82,"column":19},"end":{"line":82,"column":54}},{"start":{"line":83,"column":19},"end":{"line":83,"column":46}}],"line":81},"8":{"loc":{"start":{"line":91,"column":24},"end":{"line":100,"column":25}},"type":"if","locations":[{"start":{"line":91,"column":24},"end":{"line":100,"column":25}},{"start":{"line":91,"column":24},"end":{"line":100,"column":25}}],"line":91},"9":{"loc":{"start":{"line":95,"column":32},"end":{"line":98,"column":33}},"type":"if","locations":[{"start":{"line":95,"column":32},"end":{"line":98,"column":33}},{"start":{"line":95,"column":32},"end":{"line":98,"column":33}}],"line":95},"10":{"loc":{"start":{"line":111,"column":8},"end":{"line":113,"column":9}},"type":"if","locations":[{"start":{"line":111,"column":8},"end":{"line":113,"column":9}},{"start":{"line":111,"column":8},"end":{"line":113,"column":9}}],"line":111},"11":{"loc":{"start":{"line":184,"column":12},"end":{"line":189,"column":13}},"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":189,"column":13}},{"start":{"line":184,"column":12},"end":{"line":189,"column":13}}],"line":184},"12":{"loc":{"start":{"line":195,"column":12},"end":{"line":200,"column":13}},"type":"if","locations":[{"start":{"line":195,"column":12},"end":{"line":200,"column":13}},{"start":{"line":195,"column":12},"end":{"line":200,"column":13}}],"line":195},"13":{"loc":{"start":{"line":195,"column":16},"end":{"line":197,"column":76}},"type":"binary-expr","locations":[{"start":{"line":195,"column":16},"end":{"line":195,"column":42}},{"start":{"line":196,"column":16},"end":{"line":196,"column":51}},{"start":{"line":197,"column":16},"end":{"line":197,"column":76}}],"line":195},"14":{"loc":{"start":{"line":198,"column":39},"end":{"line":198,"column":67}},"type":"binary-expr","locations":[{"start":{"line":198,"column":39},"end":{"line":198,"column":59}},{"start":{"line":198,"column":63},"end":{"line":198,"column":67}}],"line":198},"15":{"loc":{"start":{"line":201,"column":12},"end":{"line":209,"column":13}},"type":"if","locations":[{"start":{"line":201,"column":12},"end":{"line":209,"column":13}},{"start":{"line":201,"column":12},"end":{"line":209,"column":13}}],"line":201},"16":{"loc":{"start":{"line":201,"column":16},"end":{"line":201,"column":117}},"type":"binary-expr","locations":[{"start":{"line":201,"column":16},"end":{"line":201,"column":84}},{"start":{"line":201,"column":88},"end":{"line":201,"column":117}}],"line":201},"17":{"loc":{"start":{"line":203,"column":16},"end":{"line":208,"column":17}},"type":"if","locations":[{"start":{"line":203,"column":16},"end":{"line":208,"column":17}},{"start":{"line":203,"column":16},"end":{"line":208,"column":17}}],"line":203}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":2,"12":2,"13":2,"14":2,"15":0,"16":4,"17":2,"18":2,"19":0,"20":2,"21":2,"22":2,"23":0,"24":2,"25":64612,"26":64612,"27":64612,"28":0,"29":64612,"30":1,"31":1,"32":1,"33":5945,"34":5944,"35":5944,"36":5944,"37":5944,"38":5944,"39":5944,"40":3589,"41":64612,"42":64612,"43":64612,"44":64612,"45":0,"46":0,"47":1,"48":1,"49":0,"50":1,"51":1,"52":1,"53":1,"54":1,"55":80,"56":1,"57":1,"58":1,"59":1,"60":1,"61":80,"62":3,"63":80,"64":76,"65":74,"66":2,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":0,"75":0,"76":0,"77":74,"78":74,"79":74,"80":74,"81":74,"82":0,"83":0,"84":0,"85":1},"f":{"0":3,"1":2,"2":4,"3":2,"4":2,"5":2,"6":0,"7":2,"8":64612,"9":64612,"10":1,"11":5945,"12":5944,"13":0,"14":1,"15":80,"16":80,"17":1,"18":1,"19":0,"20":74,"21":74,"22":0},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3],"3":[24621,39991],"4":[64612,0],"5":[64612,64612,64612,64612,64612,64612,64612,64612,64612,64612],"6":[5944,1],"7":[5945,5945,5945],"8":[3589,2355],"9":[64612,0],"10":[0,1],"11":[1,79],"12":[3,77],"13":[80,79,78],"14":[3,0],"15":[76,4],"16":[80,77],"17":[74,2]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/HandleDataset.ts","sources":["C:/Users/aqilf/project_team103/src/controller/HandleDataset.ts"],"names":[],"mappings":"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","sourcesContent":["import Dataset from \"./Dataset\";\r\nimport {InsightError} from \"./IInsightFacade\";\r\nimport path from \"node:path\";\r\nimport Section from \"./Section\";\r\nimport JSZip from \"jszip\";\r\n// import {ChildNode} from \"parse5/dist/tree-adapters/default\";\r\nimport {parse, defaultTreeAdapter} from \"parse5\";\r\nimport * as parse5 from \"parse5\";\r\n\r\n\r\nimport * as fs from \"fs\";\r\nimport TraverseTable from \"./TraverseTable\";\r\nimport Queue from \"./Queue\";\r\n\r\nconst fsPromises = require(\"fs\").promises;\r\n// var parse5 = require(\"parse5\").default;\r\n\r\nexport default class HandleDataset {\r\n\tprivate dir = \"./data\";\r\n\tprivate validBuildingLinks: string[] = [];\r\n\r\n\r\n    // converts dataset object to JSON string then add to disk\r\n\tpublic async addDatasetToDisk(dataset: Dataset) {\r\n\t\tlet jsonString = JSON.stringify(dataset, null, \"\\t\");\r\n\t\tlet newPath = this.getDatasetDirPath(dataset.getIDName());\r\n\t\ttry {\r\n\t\t\tawait this.saveToDataDir(newPath, jsonString);\r\n\t\t} catch (error) {\r\n\t\t\tthrow new InsightError(\"Error when saving to disk\");\r\n\t\t}\r\n\t}\r\n\r\n    // gets the path to the dataset\r\n\tpublic getDatasetDirPath(id: string): string {\r\n\t\treturn path.join(this.dir, `${id}`);\r\n\t}\r\n\r\n    // writes the file to data directory\r\n\tpublic async saveToDataDir(newPath: string, jsonString: string): Promise<void> {\r\n\t\ttry {\r\n\t\t\tawait fsPromises.writeFile(newPath, jsonString);\r\n\t\t} catch (e) {\r\n\t\t\tthrow new InsightError(\"Error when writing to disk\");\r\n\t\t}\r\n\t}\r\n\r\n    // checks if dataset already exists\r\n\tpublic async isThereDatasetDir(id: string): Promise<boolean> {\r\n\t\treturn new Promise<boolean>( (resolve, reject) => {\r\n\t\t\tconst filePath = this.getDatasetDirPath(id);\r\n\t\t\tfsPromises.access(filePath).then(() => {\r\n\t\t\t\tresolve(true);\r\n\t\t\t}).catch(() => {\r\n\t\t\t\tresolve(false);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\r\n    // creates a Section object, if invalid, then create a Section that is invalid\r\n\tprivate createSection(object: any): Section {\r\n\t\tlet currentSection = new Section(\r\n\t\t\tString(object.id),\r\n\t\t\tobject.Course,\r\n\t\t\tobject.Title,\r\n\t\t\tobject.Professor,\r\n\t\t\tobject.Subject,\r\n\t\t\t(object.Section === \"overall\") ? 1900 : Number(object.Year),\r\n\t\t\tobject.Avg,\r\n\t\t\tobject.Pass,\r\n\t\t\tobject.Fail,\r\n\t\t\tobject.Audit\r\n\t\t);\r\n\r\n\t\tif (this.isAValidSection(currentSection)) {\r\n\t\t\treturn currentSection;\r\n\t\t} else {\r\n\t\t\treturn new Section(\r\n\t\t\t\t\"invalid\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n    // checks if the Section is valid or not\r\n\tprivate isAValidSection(section: Section): boolean {\r\n\t\treturn !(section.getSectionID() === undefined ||\r\n            section.getCourseID() === undefined ||\r\n            section.getTitle() === undefined ||\r\n            section.getInstructor() === undefined ||\r\n            section.getDepartment() === undefined ||\r\n            section.getYear() === undefined ||\r\n            section.getAvg() === undefined ||\r\n            section.getPass() === undefined ||\r\n            section.getFail() === undefined ||\r\n            section.getAudit() === undefined);\r\n\t}\r\n\r\n    // iterates through all courses and sections and adds only valid sections to the dataset\r\n\tpublic async handleSectionsZip(zip: JSZip, reject: (reason?: any) => void, dataset: Dataset) {\r\n\t\tconst promises: unknown[] = [];\r\n\t\tlet coursesFolderExists = false;\r\n        // iterate through the zip folder\r\n\t\tzip.forEach((relativePath: string, zipEntry: JSZip.JSZipObject) => {\r\n\t\t\tif (relativePath.startsWith(\"courses\")\r\n                && !relativePath.includes(\"courses/.\")\r\n                && !relativePath.endsWith(\"/\")) {\r\n\t\t\t\tcoursesFolderExists = true;\r\n\r\n                // read the content in the file\r\n\t\t\t\tpromises.push(\r\n\t\t\t\t\tzipEntry.async(\"string\").then((contentInFile) => {\r\n                        // parses the file into a list of JSON objects\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tlet parsedCourseJSONObjects = JSON.parse(contentInFile);\r\n\t\t\t\t\t\t\tlet result = parsedCourseJSONObjects.result;\r\n\t\t\t\t\t\t\tif (result.length !== 0) {\r\n                                // iterate through the JSON objects in the file\r\n\t\t\t\t\t\t\t\tfor (const object of result) {\r\n\t\t\t\t\t\t\t\t\tlet newSection = this.createSection(object);\r\n\t\t\t\t\t\t\t\t\tif (!(newSection.getCourseID() === \"invalid\")) {\r\n\t\t\t\t\t\t\t\t\t\tdataset.setValidity(true);\r\n\t\t\t\t\t\t\t\t\t\tdataset.addValidSection(newSection);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch(error) {\r\n\t\t\t\t\t\t\treject(new InsightError(\"Error while parsing file\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\treject(new InsightError(\"Error while adding dataset\"));\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawait Promise.all(promises);\r\n\r\n\t\tif (coursesFolderExists === false) {\r\n\t\t\tthrow new InsightError(\"Courses folder not found\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// HANDLE ROOMS ZIP ################################################################################################\r\n\t// public async handleRoomsZip(zip: JSZip, reject: (reason?: any) => void, dataset: Dataset) {\r\n\t// \tconsole.log(\"---------------------rooms zip reached---------------------\");\r\n\t//\r\n\t// \tconst promises: Promise<void>[] = [];\r\n\t// \tlet relevantFoldersExist = false;\r\n\t// \tlet indexExist = false;\r\n\t//\r\n\t// \tfor (const [relativePath, zipEntry] of Object.entries(zip.files)) {\r\n\t// \t\tif (relativePath === \"campus/\" ||\r\n\t// \t\t\trelativePath === \"campus/discover/\" ||\r\n\t// \t\t\trelativePath === \"campus/discover/buildings-and-classrooms/\") {\r\n\t// \t\t\trelevantFoldersExist = true;\r\n\t// \t\t}\r\n\t//\r\n\t// \t\tif (relativePath === \"index.htm\") {\r\n\t// \t\t\tindexExist = true;\r\n\t//\r\n\t// \t\t\t// try {\r\n\t// \t\t\t// \tconsole.log(\"Reading index.htm\");\r\n\t// \t\t\t// \tconst fileContent = await zipEntry.async(\"string\");\r\n\t// \t\t\t// \tconst document = parse5.parse(fileContent);\r\n\t// \t\t\t// \tconsole.log(\"File content:\", fileContent);\r\n\t// \t\t\t//\r\n\t// \t\t\t// \tthis.iterate(document);\r\n\t// \t\t\t// \t// Handle the file content here\r\n\t// \t\t\t// } catch (error) {\r\n\t// \t\t\t// \tconsole.log(\"Error reading index.htm:\", error);\r\n\t// \t\t\t// }\r\n\t//\r\n\t// \t\t\tpromises.push(\r\n\t// \t\t\t\tzipEntry.async(\"string\").then((contentInFile) => {\r\n\t// \t\t\t\t\t// parses the file into a list of JSON objects\r\n\t// \t\t\t\t\ttry {\r\n\t// \t\t\t\t\t\tconsole.log(contentInFile);\r\n\t// \t\t\t\t\t\tlet parsedIndex = parse5.parse(contentInFile);\r\n\t// \t\t\t\t\t\tconsole.log(\"File content:\");\r\n\t// \t\t\t\t\t\tthis.iterate(parsedIndex);\r\n\t// \t\t\t\t\t} catch(error) {\r\n\t// \t\t\t\t\t\tconsole.log(error);\r\n\t// \t\t\t\t\t\treject(new InsightError(\"Error while parsing file\"));\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t}).catch((error) => {\r\n\t// \t\t\t\t\treject(new InsightError(\"Error while adding dataset\"));\r\n\t// \t\t\t\t})\r\n\t// \t\t\t);\r\n\t// \t\t}\r\n\t//\r\n\t// \t\tif (relativePath.startsWith(\"campus/discover/buildings-and-classrooms/\") && relativePath.endsWith(\".htm\")) {\r\n\t// \t\t\t// Handle building files\r\n\t// \t\t}\r\n\t// \t}\r\n\t//\r\n\t// \tif (relevantFoldersExist === false || indexExist === false) {\r\n\t// \t\treject(new InsightError(\"Relevant folders/files not found\"));\r\n\t// \t\treturn;\r\n\t// \t}\r\n\t//\r\n\t// \tawait Promise.all(promises);\r\n\t// }\r\n\r\n\tpublic async handleRoomsZip(zip: JSZip, reject: (reason?: any) => void, dataset: Dataset) {\r\n\t\tconsole.log(\"---------------------rooms zip reached---------------------\");\r\n\r\n\t\tconst promises: unknown[] = [];\r\n\t\tlet relevantFoldersExist = false;\r\n\t\tlet indexExist = false;\r\n\r\n\t\t// iterate through the zip folder\r\n\t\tzip.forEach(async (relativePath: string, zipEntry: JSZip.JSZipObject) => {\r\n\t\t\t// console.log(relativePath);\r\n\r\n\t\t\t// handles the index.htm file\r\n\t\t\tif (relativePath.endsWith(\"index.htm\")) {\r\n\t\t\t\t// console.log(\"index.htm exists\");\r\n\t\t\t\tindexExist = true;\r\n\t\t\t\t// console.log(\"===============================================================================================INDEX\");\r\n\t\t\t\tthis.parseIndexHTML(promises, zipEntry, reject);\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\tconsole.log (\"done index\");\r\n\t\tawait Promise.all(promises);\r\n\r\n\t\tzip.forEach(async (relativePath: string, zipEntry: JSZip.JSZipObject) => {\r\n\t\t\t// check if the folders exist\r\n\t\t\tif (relativePath === \"campus/\" ||\r\n\t\t\t\trelativePath === \"campus/discover/\" ||\r\n\t\t\t\trelativePath === \"campus/discover/buildings-and-classrooms/\") {\r\n\r\n\t\t\t\trelevantFoldersExist = relevantFoldersExist && true;\r\n\t\t\t\t// so that if one of the folders don't exist it will be false\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (relativePath.startsWith(\"campus/discover/buildings-and-classrooms/\") && relativePath.endsWith(\".htm\")) {\r\n\t\t\t\t// console.log(\"===============================================================================================BUIDLING\");\r\n\t\t\t\tif (this.validBuildingLinks.includes(relativePath)) {\r\n\t\t\t\t\tthis.parseBuildingFile(promises, zipEntry, reject, dataset);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"BUILDING NOT LINKED IN INDEX.HTM\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\tconsole.log (\"done buidling\");\r\n\t\tawait Promise.all(promises);\r\n\r\n\t\t// console.log(this.count);\r\n\t\t// if (relevantFoldersExist === false || indexExist === false) {\r\n\t\t// \treject(new InsightError(\"Relevant folders/files not found\"));\r\n\t\t// }\r\n\t}\r\n\r\n\r\n\tprivate parseIndexHTML(promises: unknown[], zipEntry: JSZip.JSZipObject, reject: (reason?: any) => void) {\r\n\t\tpromises.push(\r\n\t\t\tzipEntry.async(\"string\").then(async (contentInFile) => {\r\n\t\t\t\t// parses the file into a list of JSON objects\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet traverseTable = new TraverseTable();\r\n\t\t\t\t\tconst document = parse(contentInFile, {treeAdapter: defaultTreeAdapter});\r\n\t\t\t\t\t// this.validBuildingLinks = traverseTable.handleIndexHTML(document, this.buildingDictionary);\r\n\t\t\t\t\tthis.validBuildingLinks = traverseTable.handleIndexHTML(document);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\treject(new InsightError(\"Error while parsing index.htm file\"));\r\n\t\t\t\t}\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\treject(new InsightError(\"Error while adding dataset\"));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tprivate parseBuildingFile(promises: unknown[],\r\n\t\tzipEntry: JSZip.JSZipObject,\r\n\t\treject: (reason?: any) => void,\r\n\t\tdataset: Dataset) {\r\n\r\n\t\tpromises.push(\r\n\t\t\tzipEntry.async(\"string\").then(async (contentInFile) => {\r\n\t\t\t\t// console.log(relativePath);\r\n\t\t\t\t// parses the file into a list of JSON objects\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet traverseTableBuildings = new TraverseTable();\r\n\t\t\t\t\tconst document = parse(contentInFile, {treeAdapter: defaultTreeAdapter});\r\n\t\t\t\t\tawait traverseTableBuildings.handleBuildingFile(document, dataset);\r\n\t\t\t\t\t// console.log(this.count);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\treject(new InsightError(\"Error while parsing building file\"));\r\n\t\t\t\t}\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\treject(new InsightError(\"Error while adding dataset\"));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport interface BuildingInfo {\r\n\tname: string;\r\n\taddress: string;\r\n\tlink: string;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b291460a1cd97ed5301356562394b791cf62a462","contentHash":"65ba3b149b656bd16654b9050dd0c2463fa5eadf31c8152d3d9ea877493985ec"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\Section.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\Section.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":15,"column":8},"end":{"line":15,"column":25}},"2":{"start":{"line":16,"column":8},"end":{"line":16,"column":21}},"3":{"start":{"line":17,"column":8},"end":{"line":17,"column":27}},"4":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"5":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":25}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":27}},"11":{"start":{"line":27,"column":8},"end":{"line":27,"column":25}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":23}},"13":{"start":{"line":33,"column":8},"end":{"line":33,"column":26}},"14":{"start":{"line":36,"column":8},"end":{"line":36,"column":31}},"15":{"start":{"line":39,"column":8},"end":{"line":39,"column":25}},"16":{"start":{"line":42,"column":8},"end":{"line":42,"column":25}},"17":{"start":{"line":45,"column":8},"end":{"line":45,"column":24}},"18":{"start":{"line":48,"column":8},"end":{"line":48,"column":25}},"19":{"start":{"line":51,"column":8},"end":{"line":51,"column":25}},"20":{"start":{"line":54,"column":8},"end":{"line":54,"column":26}},"21":{"start":{"line":57,"column":0},"end":{"line":57,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":81},"end":{"line":25,"column":5}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":19},"end":{"line":28,"column":5}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":18},"end":{"line":31,"column":5}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":15},"end":{"line":34,"column":5}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":20},"end":{"line":37,"column":5}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":20},"end":{"line":40,"column":5}},"line":38},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":14},"end":{"line":43,"column":5}},"line":41},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":13},"end":{"line":46,"column":5}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":14},"end":{"line":49,"column":5}},"line":47},"9":{"name":"(anonymous_9)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":14},"end":{"line":52,"column":5}},"line":50},"10":{"name":"(anonymous_10)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":15},"end":{"line":55,"column":5}},"line":53}},"branchMap":{},"s":{"0":1,"1":64612,"2":64612,"3":64612,"4":64612,"5":64612,"6":64612,"7":64612,"8":64612,"9":64612,"10":64612,"11":64612,"12":129224,"13":64612,"14":64612,"15":64612,"16":64612,"17":64612,"18":64612,"19":64612,"20":64612,"21":1},"f":{"0":64612,"1":64612,"2":129224,"3":64612,"4":64612,"5":64612,"6":64612,"7":64612,"8":64612,"9":64612,"10":64612},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/Section.ts","sources":["C:/Users/aqilf/project_team103/src/controller/Section.ts"],"names":[],"mappings":";;AAAA,MAAqB,OAAO;IACV,IAAI,CAAS;IACb,EAAE,CAAS;IACX,KAAK,CAAS;IACd,UAAU,CAAS;IACnB,IAAI,CAAS;IAEb,IAAI,CAAS;IACb,GAAG,CAAS;IACZ,IAAI,CAAS;IACb,IAAI,CAAS;IACb,KAAK,CAAS;IAE/B,YACC,IAAY,EACZ,EAAU,EACV,KAAa,EACb,UAAkB,EAClB,IAAY,EACZ,IAAY,EACZ,GAAW,EACX,IAAY,EACZ,IAAY,EACZ,KAAa;QAEb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACpB,CAAC;IAEM,YAAY;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,WAAW;QACjB,OAAO,IAAI,CAAC,EAAE,CAAC;IAChB,CAAC;IAEM,QAAQ;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;IACnB,CAAC;IAEM,aAAa;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC;IACxB,CAAC;IAEM,aAAa;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,MAAM;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC;IACjB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,QAAQ;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;IACnB,CAAC;CAGD;AA9ED,0BA8EC","sourcesContent":["export default class Section {\r\n\tprivate readonly uuid: string;\r\n\tprivate readonly id: string;\r\n\tprivate readonly title: string;\r\n\tprivate readonly instructor: string;\r\n\tprivate readonly dept: string;\r\n\r\n\tprivate readonly year: number;\r\n\tprivate readonly avg: number;\r\n\tprivate readonly pass: number;\r\n\tprivate readonly fail: number;\r\n\tprivate readonly audit: number;\r\n\r\n\tconstructor(\r\n\t\tuuid: string,\r\n\t\tid: string,\r\n\t\ttitle: string,\r\n\t\tinstructor: string,\r\n\t\tdept: string,\r\n\t\tyear: number,\r\n\t\tavg: number,\r\n\t\tpass: number,\r\n\t\tfail: number,\r\n\t\taudit: number\r\n\t) {\r\n\t\tthis.uuid = uuid;\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.instructor = instructor;\r\n\t\tthis.dept = dept;\r\n\t\tthis.year = year;\r\n\t\tthis.avg = avg;\r\n\t\tthis.pass = pass;\r\n\t\tthis.fail = fail;\r\n\t\tthis.audit = audit;\r\n\t}\r\n\r\n\tpublic getSectionID(): string {\r\n\t\treturn this.uuid;\r\n\t}\r\n\r\n\tpublic getCourseID(): string {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\tpublic getTitle(): string {\r\n\t\treturn this.title;\r\n\t}\r\n\r\n\tpublic getInstructor(): string {\r\n\t\treturn this.instructor;\r\n\t}\r\n\r\n\tpublic getDepartment(): string {\r\n\t\treturn this.dept;\r\n\t}\r\n\r\n\tpublic getYear(): number {\r\n\t\treturn this.year;\r\n\t}\r\n\r\n\tpublic getAvg(): number {\r\n\t\treturn this.avg;\r\n\t}\r\n\r\n\tpublic getPass(): number {\r\n\t\treturn this.pass;\r\n\t}\r\n\r\n\tpublic getFail(): number {\r\n\t\treturn this.fail;\r\n\t}\r\n\r\n\tpublic getAudit(): number {\r\n\t\treturn this.audit;\r\n\t}\r\n\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fcc5878bc52ae5bb25669dc85e0aef3b409f4a13","contentHash":"6c7848599e638a1f58cc8c454808acc10a9eda1a08f703f9a2464ba3ceae4110"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\TraverseTable.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\TraverseTable.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":25},"end":{"line":29,"column":52}},"28":{"start":{"line":30,"column":15},"end":{"line":30,"column":49}},"29":{"start":{"line":31,"column":13},"end":{"line":31,"column":42}},"30":{"start":{"line":33,"column":23},"end":{"line":39,"column":5}},"31":{"start":{"line":40,"column":30},"end":{"line":46,"column":5}},"32":{"start":{"line":47,"column":22},"end":{"line":47,"column":27}},"33":{"start":{"line":48,"column":22},"end":{"line":48,"column":27}},"34":{"start":{"line":49,"column":12},"end":{"line":49,"column":13}},"35":{"start":{"line":50,"column":14},"end":{"line":50,"column":77}},"36":{"start":{"line":51,"column":30},"end":{"line":51,"column":32}},"37":{"start":{"line":52,"column":18},"end":{"line":52,"column":19}},"38":{"start":{"line":55,"column":20},"end":{"line":55,"column":55}},"39":{"start":{"line":56,"column":8},"end":{"line":56,"column":42}},"40":{"start":{"line":57,"column":8},"end":{"line":64,"column":9}},"41":{"start":{"line":58,"column":24},"end":{"line":58,"column":56}},"42":{"start":{"line":59,"column":12},"end":{"line":59,"column":39}},"43":{"start":{"line":62,"column":12},"end":{"line":62,"column":43}},"44":{"start":{"line":63,"column":12},"end":{"line":63,"column":87}},"45":{"start":{"line":65,"column":8},"end":{"line":65,"column":44}},"46":{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},"47":{"start":{"line":68,"column":21},"end":{"line":68,"column":22}},"48":{"start":{"line":69,"column":24},"end":{"line":69,"column":42}},"49":{"start":{"line":71,"column":12},"end":{"line":77,"column":13}},"50":{"start":{"line":73,"column":16},"end":{"line":73,"column":44}},"51":{"start":{"line":76,"column":16},"end":{"line":76,"column":29}},"52":{"start":{"line":78,"column":27},"end":{"line":78,"column":68}},"53":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"54":{"start":{"line":80,"column":16},"end":{"line":80,"column":30}},"55":{"start":{"line":83,"column":8},"end":{"line":83,"column":20}},"56":{"start":{"line":86,"column":8},"end":{"line":98,"column":9}},"57":{"start":{"line":86,"column":21},"end":{"line":86,"column":22}},"58":{"start":{"line":87,"column":24},"end":{"line":87,"column":42}},"59":{"start":{"line":89,"column":12},"end":{"line":93,"column":13}},"60":{"start":{"line":92,"column":16},"end":{"line":92,"column":29}},"61":{"start":{"line":94,"column":27},"end":{"line":94,"column":68}},"62":{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},"63":{"start":{"line":96,"column":16},"end":{"line":96,"column":30}},"64":{"start":{"line":99,"column":8},"end":{"line":99,"column":20}},"65":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"66":{"start":{"line":103,"column":12},"end":{"line":103,"column":19}},"67":{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},"68":{"start":{"line":106,"column":12},"end":{"line":106,"column":19}},"69":{"start":{"line":108,"column":8},"end":{"line":156,"column":9}},"70":{"start":{"line":110,"column":12},"end":{"line":154,"column":13}},"71":{"start":{"line":111,"column":36},"end":{"line":111,"column":40}},"72":{"start":{"line":114,"column":16},"end":{"line":134,"column":17}},"73":{"start":{"line":116,"column":20},"end":{"line":133,"column":21}},"74":{"start":{"line":123,"column":24},"end":{"line":123,"column":62}},"75":{"start":{"line":124,"column":24},"end":{"line":127,"column":25}},"76":{"start":{"line":126,"column":28},"end":{"line":126,"column":108}},"77":{"start":{"line":129,"column":25},"end":{"line":133,"column":21}},"78":{"start":{"line":131,"column":24},"end":{"line":131,"column":63}},"79":{"start":{"line":132,"column":24},"end":{"line":132,"column":30}},"80":{"start":{"line":155,"column":12},"end":{"line":155,"column":35}},"81":{"start":{"line":157,"column":8},"end":{"line":157,"column":15}},"82":{"start":{"line":163,"column":20},"end":{"line":163,"column":63}},"83":{"start":{"line":164,"column":8},"end":{"line":169,"column":9}},"84":{"start":{"line":166,"column":12},"end":{"line":166,"column":75}},"85":{"start":{"line":167,"column":24},"end":{"line":167,"column":64}},"86":{"start":{"line":168,"column":12},"end":{"line":168,"column":76}},"87":{"start":{"line":170,"column":8},"end":{"line":170,"column":15}},"88":{"start":{"line":173,"column":8},"end":{"line":189,"column":9}},"89":{"start":{"line":173,"column":21},"end":{"line":173,"column":22}},"90":{"start":{"line":174,"column":24},"end":{"line":174,"column":42}},"91":{"start":{"line":175,"column":12},"end":{"line":184,"column":13}},"92":{"start":{"line":177,"column":31},"end":{"line":177,"column":84}},"93":{"start":{"line":178,"column":30},"end":{"line":178,"column":83}},"94":{"start":{"line":181,"column":35},"end":{"line":181,"column":71}},"95":{"start":{"line":183,"column":16},"end":{"line":183,"column":36}},"96":{"start":{"line":185,"column":27},"end":{"line":185,"column":74}},"97":{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},"98":{"start":{"line":187,"column":16},"end":{"line":187,"column":30}},"99":{"start":{"line":190,"column":8},"end":{"line":190,"column":20}},"100":{"start":{"line":193,"column":8},"end":{"line":207,"column":9}},"101":{"start":{"line":193,"column":21},"end":{"line":193,"column":22}},"102":{"start":{"line":194,"column":24},"end":{"line":194,"column":42}},"103":{"start":{"line":196,"column":12},"end":{"line":202,"column":13}},"104":{"start":{"line":198,"column":16},"end":{"line":198,"column":44}},"105":{"start":{"line":201,"column":16},"end":{"line":201,"column":29}},"106":{"start":{"line":203,"column":27},"end":{"line":203,"column":76}},"107":{"start":{"line":204,"column":12},"end":{"line":206,"column":13}},"108":{"start":{"line":205,"column":16},"end":{"line":205,"column":30}},"109":{"start":{"line":208,"column":8},"end":{"line":208,"column":20}},"110":{"start":{"line":211,"column":8},"end":{"line":223,"column":9}},"111":{"start":{"line":211,"column":21},"end":{"line":211,"column":22}},"112":{"start":{"line":212,"column":24},"end":{"line":212,"column":42}},"113":{"start":{"line":214,"column":12},"end":{"line":218,"column":13}},"114":{"start":{"line":217,"column":16},"end":{"line":217,"column":29}},"115":{"start":{"line":219,"column":27},"end":{"line":219,"column":76}},"116":{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},"117":{"start":{"line":221,"column":16},"end":{"line":221,"column":30}},"118":{"start":{"line":224,"column":8},"end":{"line":224,"column":20}},"119":{"start":{"line":344,"column":25},"end":{"line":344,"column":27}},"120":{"start":{"line":345,"column":8},"end":{"line":347,"column":9}},"121":{"start":{"line":346,"column":12},"end":{"line":346,"column":19}},"122":{"start":{"line":348,"column":8},"end":{"line":385,"column":9}},"123":{"start":{"line":350,"column":12},"end":{"line":382,"column":13}},"124":{"start":{"line":351,"column":36},"end":{"line":351,"column":40}},"125":{"start":{"line":352,"column":16},"end":{"line":352,"column":69}},"126":{"start":{"line":353,"column":16},"end":{"line":381,"column":17}},"127":{"start":{"line":354,"column":20},"end":{"line":354,"column":33}},"128":{"start":{"line":355,"column":44},"end":{"line":355,"column":85}},"129":{"start":{"line":356,"column":37},"end":{"line":356,"column":69}},"130":{"start":{"line":358,"column":20},"end":{"line":380,"column":24}},"131":{"start":{"line":359,"column":24},"end":{"line":379,"column":27}},"132":{"start":{"line":360,"column":39},"end":{"line":360,"column":41}},"133":{"start":{"line":361,"column":28},"end":{"line":363,"column":31}},"134":{"start":{"line":362,"column":32},"end":{"line":362,"column":46}},"135":{"start":{"line":364,"column":28},"end":{"line":375,"column":31}},"136":{"start":{"line":365,"column":45},"end":{"line":365,"column":61}},"137":{"start":{"line":366,"column":32},"end":{"line":373,"column":33}},"138":{"start":{"line":369,"column":36},"end":{"line":369,"column":88}},"139":{"start":{"line":372,"column":36},"end":{"line":372,"column":73}},"140":{"start":{"line":374,"column":32},"end":{"line":374,"column":42}},"141":{"start":{"line":377,"column":28},"end":{"line":377,"column":78}},"142":{"start":{"line":378,"column":28},"end":{"line":378,"column":42}},"143":{"start":{"line":386,"column":8},"end":{"line":386,"column":36}},"144":{"start":{"line":392,"column":8},"end":{"line":401,"column":9}},"145":{"start":{"line":394,"column":12},"end":{"line":400,"column":13}},"146":{"start":{"line":395,"column":16},"end":{"line":395,"column":54}},"147":{"start":{"line":397,"column":17},"end":{"line":400,"column":13}},"148":{"start":{"line":398,"column":16},"end":{"line":398,"column":55}},"149":{"start":{"line":399,"column":16},"end":{"line":399,"column":22}},"150":{"start":{"line":402,"column":8},"end":{"line":402,"column":29}},"151":{"start":{"line":405,"column":31},"end":{"line":405,"column":48}},"152":{"start":{"line":409,"column":30},"end":{"line":409,"column":50}},"153":{"start":{"line":410,"column":18},"end":{"line":410,"column":26}},"154":{"start":{"line":411,"column":18},"end":{"line":411,"column":26}},"155":{"start":{"line":416,"column":8},"end":{"line":449,"column":9}},"156":{"start":{"line":418,"column":12},"end":{"line":448,"column":13}},"157":{"start":{"line":420,"column":16},"end":{"line":420,"column":66}},"158":{"start":{"line":423,"column":17},"end":{"line":448,"column":13}},"159":{"start":{"line":425,"column":27},"end":{"line":425,"column":49}},"160":{"start":{"line":426,"column":16},"end":{"line":426,"column":55}},"161":{"start":{"line":429,"column":17},"end":{"line":448,"column":13}},"162":{"start":{"line":431,"column":27},"end":{"line":431,"column":49}},"163":{"start":{"line":432,"column":16},"end":{"line":432,"column":71}},"164":{"start":{"line":435,"column":17},"end":{"line":448,"column":13}},"165":{"start":{"line":437,"column":27},"end":{"line":437,"column":49}},"166":{"start":{"line":438,"column":16},"end":{"line":438,"column":66}},"167":{"start":{"line":441,"column":17},"end":{"line":448,"column":13}},"168":{"start":{"line":443,"column":16},"end":{"line":443,"column":59}},"169":{"start":{"line":445,"column":35},"end":{"line":445,"column":60}},"170":{"start":{"line":446,"column":16},"end":{"line":446,"column":63}},"171":{"start":{"line":450,"column":8},"end":{"line":450,"column":56}},"172":{"start":{"line":452,"column":22},"end":{"line":452,"column":172}},"173":{"start":{"line":453,"column":8},"end":{"line":453,"column":34}},"174":{"start":{"line":454,"column":8},"end":{"line":454,"column":38}},"175":{"start":{"line":458,"column":8},"end":{"line":458,"column":193}},"176":{"start":{"line":461,"column":0},"end":{"line":461,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":30},"end":{"line":66,"column":5}},"line":54},"8":{"name":"(anonymous_8)","decl":{"start":{"line":67,"column":4},"end":{"line":67,"column":5}},"loc":{"start":{"line":67,"column":27},"end":{"line":84,"column":5}},"line":67},"9":{"name":"(anonymous_9)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":27},"end":{"line":100,"column":5}},"line":85},"10":{"name":"(anonymous_10)","decl":{"start":{"line":101,"column":4},"end":{"line":101,"column":5}},"loc":{"start":{"line":101,"column":24},"end":{"line":158,"column":5}},"line":101},"11":{"name":"(anonymous_11)","decl":{"start":{"line":161,"column":4},"end":{"line":161,"column":5}},"loc":{"start":{"line":161,"column":48},"end":{"line":171,"column":5}},"line":161},"12":{"name":"(anonymous_12)","decl":{"start":{"line":172,"column":4},"end":{"line":172,"column":5}},"loc":{"start":{"line":172,"column":33},"end":{"line":191,"column":5}},"line":172},"13":{"name":"(anonymous_13)","decl":{"start":{"line":192,"column":4},"end":{"line":192,"column":5}},"loc":{"start":{"line":192,"column":35},"end":{"line":209,"column":5}},"line":192},"14":{"name":"(anonymous_14)","decl":{"start":{"line":210,"column":4},"end":{"line":210,"column":5}},"loc":{"start":{"line":210,"column":35},"end":{"line":225,"column":5}},"line":210},"15":{"name":"(anonymous_15)","decl":{"start":{"line":343,"column":4},"end":{"line":343,"column":5}},"loc":{"start":{"line":343,"column":61},"end":{"line":390,"column":5}},"line":343},"16":{"name":"(anonymous_16)","decl":{"start":{"line":358,"column":46},"end":{"line":358,"column":47}},"loc":{"start":{"line":358,"column":67},"end":{"line":380,"column":21}},"line":358},"17":{"name":"(anonymous_17)","decl":{"start":{"line":359,"column":45},"end":{"line":359,"column":46}},"loc":{"start":{"line":359,"column":59},"end":{"line":376,"column":25}},"line":359},"18":{"name":"(anonymous_18)","decl":{"start":{"line":361,"column":48},"end":{"line":361,"column":49}},"loc":{"start":{"line":361,"column":59},"end":{"line":363,"column":29}},"line":361},"19":{"name":"(anonymous_19)","decl":{"start":{"line":364,"column":47},"end":{"line":364,"column":48}},"loc":{"start":{"line":364,"column":53},"end":{"line":375,"column":29}},"line":364},"20":{"name":"(anonymous_20)","decl":{"start":{"line":376,"column":39},"end":{"line":376,"column":40}},"loc":{"start":{"line":376,"column":50},"end":{"line":379,"column":25}},"line":376},"21":{"name":"(anonymous_21)","decl":{"start":{"line":391,"column":4},"end":{"line":391,"column":5}},"loc":{"start":{"line":391,"column":36},"end":{"line":403,"column":5}},"line":391},"22":{"name":"(anonymous_22)","decl":{"start":{"line":404,"column":4},"end":{"line":404,"column":5}},"loc":{"start":{"line":404,"column":51},"end":{"line":455,"column":5}},"line":404},"23":{"name":"(anonymous_23)","decl":{"start":{"line":457,"column":4},"end":{"line":457,"column":5}},"loc":{"start":{"line":457,"column":150},"end":{"line":459,"column":5}},"line":457}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26},"19":{"loc":{"start":{"line":57,"column":8},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":64,"column":9}},{"start":{"line":57,"column":8},"end":{"line":64,"column":9}}],"line":57},"20":{"loc":{"start":{"line":71,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":77,"column":13}},{"start":{"line":71,"column":12},"end":{"line":77,"column":13}}],"line":71},"21":{"loc":{"start":{"line":71,"column":16},"end":{"line":71,"column":93}},"type":"binary-expr","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":38}},{"start":{"line":71,"column":42},"end":{"line":71,"column":93}}],"line":71},"22":{"loc":{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},"type":"if","locations":[{"start":{"line":79,"column":12},"end":{"line":81,"column":13}},{"start":{"line":79,"column":12},"end":{"line":81,"column":13}}],"line":79},"23":{"loc":{"start":{"line":89,"column":12},"end":{"line":93,"column":13}},"type":"if","locations":[{"start":{"line":89,"column":12},"end":{"line":93,"column":13}},{"start":{"line":89,"column":12},"end":{"line":93,"column":13}}],"line":89},"24":{"loc":{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":95,"column":12},"end":{"line":97,"column":13}},{"start":{"line":95,"column":12},"end":{"line":97,"column":13}}],"line":95},"25":{"loc":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},{"start":{"line":102,"column":8},"end":{"line":104,"column":9}}],"line":102},"26":{"loc":{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":107,"column":9}},{"start":{"line":105,"column":8},"end":{"line":107,"column":9}}],"line":105},"27":{"loc":{"start":{"line":110,"column":12},"end":{"line":154,"column":13}},"type":"if","locations":[{"start":{"line":110,"column":12},"end":{"line":154,"column":13}},{"start":{"line":110,"column":12},"end":{"line":154,"column":13}}],"line":110},"28":{"loc":{"start":{"line":116,"column":20},"end":{"line":133,"column":21}},"type":"if","locations":[{"start":{"line":116,"column":20},"end":{"line":133,"column":21}},{"start":{"line":116,"column":20},"end":{"line":133,"column":21}}],"line":116},"29":{"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":97}},"type":"binary-expr","locations":[{"start":{"line":116,"column":24},"end":{"line":116,"column":44}},{"start":{"line":116,"column":48},"end":{"line":116,"column":97}}],"line":116},"30":{"loc":{"start":{"line":123,"column":40},"end":{"line":123,"column":61}},"type":"binary-expr","locations":[{"start":{"line":123,"column":40},"end":{"line":123,"column":53}},{"start":{"line":123,"column":57},"end":{"line":123,"column":61}}],"line":123},"31":{"loc":{"start":{"line":124,"column":24},"end":{"line":127,"column":25}},"type":"if","locations":[{"start":{"line":124,"column":24},"end":{"line":127,"column":25}},{"start":{"line":124,"column":24},"end":{"line":127,"column":25}}],"line":124},"32":{"loc":{"start":{"line":129,"column":25},"end":{"line":133,"column":21}},"type":"if","locations":[{"start":{"line":129,"column":25},"end":{"line":133,"column":21}},{"start":{"line":129,"column":25},"end":{"line":133,"column":21}}],"line":129},"33":{"loc":{"start":{"line":129,"column":29},"end":{"line":129,"column":103}},"type":"binary-expr","locations":[{"start":{"line":129,"column":29},"end":{"line":129,"column":49}},{"start":{"line":129,"column":53},"end":{"line":129,"column":103}}],"line":129},"34":{"loc":{"start":{"line":131,"column":40},"end":{"line":131,"column":62}},"type":"binary-expr","locations":[{"start":{"line":131,"column":40},"end":{"line":131,"column":53}},{"start":{"line":131,"column":57},"end":{"line":131,"column":62}}],"line":131},"35":{"loc":{"start":{"line":164,"column":8},"end":{"line":169,"column":9}},"type":"if","locations":[{"start":{"line":164,"column":8},"end":{"line":169,"column":9}},{"start":{"line":164,"column":8},"end":{"line":169,"column":9}}],"line":164},"36":{"loc":{"start":{"line":175,"column":12},"end":{"line":184,"column":13}},"type":"if","locations":[{"start":{"line":175,"column":12},"end":{"line":184,"column":13}},{"start":{"line":175,"column":12},"end":{"line":184,"column":13}}],"line":175},"37":{"loc":{"start":{"line":175,"column":16},"end":{"line":175,"column":84}},"type":"binary-expr","locations":[{"start":{"line":175,"column":16},"end":{"line":175,"column":40}},{"start":{"line":175,"column":44},"end":{"line":175,"column":84}}],"line":175},"38":{"loc":{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},"type":"if","locations":[{"start":{"line":186,"column":12},"end":{"line":188,"column":13}},{"start":{"line":186,"column":12},"end":{"line":188,"column":13}}],"line":186},"39":{"loc":{"start":{"line":196,"column":12},"end":{"line":202,"column":13}},"type":"if","locations":[{"start":{"line":196,"column":12},"end":{"line":202,"column":13}},{"start":{"line":196,"column":12},"end":{"line":202,"column":13}}],"line":196},"40":{"loc":{"start":{"line":196,"column":16},"end":{"line":196,"column":93}},"type":"binary-expr","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":38}},{"start":{"line":196,"column":42},"end":{"line":196,"column":93}}],"line":196},"41":{"loc":{"start":{"line":204,"column":12},"end":{"line":206,"column":13}},"type":"if","locations":[{"start":{"line":204,"column":12},"end":{"line":206,"column":13}},{"start":{"line":204,"column":12},"end":{"line":206,"column":13}}],"line":204},"42":{"loc":{"start":{"line":214,"column":12},"end":{"line":218,"column":13}},"type":"if","locations":[{"start":{"line":214,"column":12},"end":{"line":218,"column":13}},{"start":{"line":214,"column":12},"end":{"line":218,"column":13}}],"line":214},"43":{"loc":{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},"type":"if","locations":[{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},{"start":{"line":220,"column":12},"end":{"line":222,"column":13}}],"line":220},"44":{"loc":{"start":{"line":345,"column":8},"end":{"line":347,"column":9}},"type":"if","locations":[{"start":{"line":345,"column":8},"end":{"line":347,"column":9}},{"start":{"line":345,"column":8},"end":{"line":347,"column":9}}],"line":345},"45":{"loc":{"start":{"line":345,"column":12},"end":{"line":345,"column":37}},"type":"binary-expr","locations":[{"start":{"line":345,"column":12},"end":{"line":345,"column":17}},{"start":{"line":345,"column":21},"end":{"line":345,"column":37}}],"line":345},"46":{"loc":{"start":{"line":350,"column":12},"end":{"line":382,"column":13}},"type":"if","locations":[{"start":{"line":350,"column":12},"end":{"line":382,"column":13}},{"start":{"line":350,"column":12},"end":{"line":382,"column":13}}],"line":350},"47":{"loc":{"start":{"line":353,"column":16},"end":{"line":381,"column":17}},"type":"if","locations":[{"start":{"line":353,"column":16},"end":{"line":381,"column":17}},{"start":{"line":353,"column":16},"end":{"line":381,"column":17}}],"line":353},"48":{"loc":{"start":{"line":366,"column":32},"end":{"line":373,"column":33}},"type":"if","locations":[{"start":{"line":366,"column":32},"end":{"line":373,"column":33}},{"start":{"line":366,"column":32},"end":{"line":373,"column":33}}],"line":366},"49":{"loc":{"start":{"line":394,"column":12},"end":{"line":400,"column":13}},"type":"if","locations":[{"start":{"line":394,"column":12},"end":{"line":400,"column":13}},{"start":{"line":394,"column":12},"end":{"line":400,"column":13}}],"line":394},"50":{"loc":{"start":{"line":394,"column":16},"end":{"line":394,"column":96}},"type":"binary-expr","locations":[{"start":{"line":394,"column":16},"end":{"line":394,"column":36}},{"start":{"line":394,"column":40},"end":{"line":394,"column":96}}],"line":394},"51":{"loc":{"start":{"line":395,"column":32},"end":{"line":395,"column":53}},"type":"binary-expr","locations":[{"start":{"line":395,"column":32},"end":{"line":395,"column":45}},{"start":{"line":395,"column":49},"end":{"line":395,"column":53}}],"line":395},"52":{"loc":{"start":{"line":397,"column":17},"end":{"line":400,"column":13}},"type":"if","locations":[{"start":{"line":397,"column":17},"end":{"line":400,"column":13}},{"start":{"line":397,"column":17},"end":{"line":400,"column":13}}],"line":397},"53":{"loc":{"start":{"line":397,"column":21},"end":{"line":397,"column":102}},"type":"binary-expr","locations":[{"start":{"line":397,"column":21},"end":{"line":397,"column":41}},{"start":{"line":397,"column":45},"end":{"line":397,"column":102}}],"line":397},"54":{"loc":{"start":{"line":398,"column":32},"end":{"line":398,"column":54}},"type":"binary-expr","locations":[{"start":{"line":398,"column":32},"end":{"line":398,"column":45}},{"start":{"line":398,"column":49},"end":{"line":398,"column":54}}],"line":398},"55":{"loc":{"start":{"line":418,"column":12},"end":{"line":448,"column":13}},"type":"if","locations":[{"start":{"line":418,"column":12},"end":{"line":448,"column":13}},{"start":{"line":418,"column":12},"end":{"line":448,"column":13}}],"line":418},"56":{"loc":{"start":{"line":418,"column":16},"end":{"line":419,"column":81}},"type":"binary-expr","locations":[{"start":{"line":418,"column":16},"end":{"line":418,"column":36}},{"start":{"line":419,"column":16},"end":{"line":419,"column":81}}],"line":418},"57":{"loc":{"start":{"line":423,"column":17},"end":{"line":448,"column":13}},"type":"if","locations":[{"start":{"line":423,"column":17},"end":{"line":448,"column":13}},{"start":{"line":423,"column":17},"end":{"line":448,"column":13}}],"line":423},"58":{"loc":{"start":{"line":423,"column":21},"end":{"line":424,"column":83}},"type":"binary-expr","locations":[{"start":{"line":423,"column":21},"end":{"line":423,"column":41}},{"start":{"line":424,"column":16},"end":{"line":424,"column":83}}],"line":423},"59":{"loc":{"start":{"line":429,"column":17},"end":{"line":448,"column":13}},"type":"if","locations":[{"start":{"line":429,"column":17},"end":{"line":448,"column":13}},{"start":{"line":429,"column":17},"end":{"line":448,"column":13}}],"line":429},"60":{"loc":{"start":{"line":429,"column":21},"end":{"line":430,"column":84}},"type":"binary-expr","locations":[{"start":{"line":429,"column":21},"end":{"line":429,"column":41}},{"start":{"line":430,"column":16},"end":{"line":430,"column":84}}],"line":429},"61":{"loc":{"start":{"line":432,"column":32},"end":{"line":432,"column":70}},"type":"binary-expr","locations":[{"start":{"line":432,"column":32},"end":{"line":432,"column":64}},{"start":{"line":432,"column":68},"end":{"line":432,"column":70}}],"line":432},"62":{"loc":{"start":{"line":435,"column":17},"end":{"line":448,"column":13}},"type":"if","locations":[{"start":{"line":435,"column":17},"end":{"line":448,"column":13}},{"start":{"line":435,"column":17},"end":{"line":448,"column":13}}],"line":435},"63":{"loc":{"start":{"line":435,"column":21},"end":{"line":436,"column":79}},"type":"binary-expr","locations":[{"start":{"line":435,"column":21},"end":{"line":435,"column":41}},{"start":{"line":436,"column":16},"end":{"line":436,"column":79}}],"line":435},"64":{"loc":{"start":{"line":438,"column":27},"end":{"line":438,"column":65}},"type":"binary-expr","locations":[{"start":{"line":438,"column":27},"end":{"line":438,"column":59}},{"start":{"line":438,"column":63},"end":{"line":438,"column":65}}],"line":438},"65":{"loc":{"start":{"line":441,"column":17},"end":{"line":448,"column":13}},"type":"if","locations":[{"start":{"line":441,"column":17},"end":{"line":448,"column":13}},{"start":{"line":441,"column":17},"end":{"line":448,"column":13}}],"line":441},"66":{"loc":{"start":{"line":441,"column":21},"end":{"line":442,"column":71}},"type":"binary-expr","locations":[{"start":{"line":441,"column":21},"end":{"line":441,"column":41}},{"start":{"line":442,"column":16},"end":{"line":442,"column":71}}],"line":441}},"s":{"0":1,"1":17,"2":17,"3":17,"4":17,"5":17,"6":364,"7":17,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":17,"21":17,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":75,"31":75,"32":75,"33":75,"34":75,"35":75,"36":75,"37":75,"38":1,"39":1,"40":1,"41":1,"42":1,"43":0,"44":0,"45":1,"46":978,"47":978,"48":978,"49":978,"50":1,"51":1,"52":977,"53":977,"54":8,"55":969,"56":23,"57":23,"58":23,"59":23,"60":1,"61":22,"62":22,"63":0,"64":22,"65":1996,"66":0,"67":1996,"68":1259,"69":737,"70":1995,"71":74,"72":74,"73":814,"74":370,"75":370,"76":74,"77":444,"78":0,"79":0,"80":1995,"81":737,"82":74,"83":74,"84":44,"85":44,"86":44,"87":74,"88":40547,"89":40547,"90":40547,"91":40547,"92":44,"93":44,"94":44,"95":44,"96":40503,"97":40503,"98":440,"99":40063,"100":94970,"101":94970,"102":94940,"103":94940,"104":44,"105":44,"106":94896,"107":94896,"108":440,"109":94486,"110":1012,"111":1012,"112":1012,"113":1012,"114":44,"115":968,"116":968,"117":0,"118":968,"119":44,"120":44,"121":0,"122":44,"123":772,"124":364,"125":364,"126":364,"127":364,"128":364,"129":364,"130":364,"131":364,"132":364,"133":364,"134":364,"135":364,"136":364,"137":364,"138":364,"139":0,"140":364,"141":0,"142":0,"143":44,"144":364,"145":4004,"146":1820,"147":2184,"148":0,"149":0,"150":364,"151":364,"152":364,"153":364,"154":364,"155":364,"156":4004,"157":364,"158":3640,"159":364,"160":364,"161":3276,"162":364,"163":364,"164":2912,"165":364,"166":364,"167":2548,"168":364,"169":364,"170":364,"171":364,"172":364,"173":364,"174":364,"175":364,"176":1},"f":{"0":17,"1":364,"2":0,"3":1,"4":0,"5":1,"6":1,"7":1,"8":978,"9":23,"10":1996,"11":74,"12":40547,"13":94970,"14":1012,"15":44,"16":364,"17":364,"18":364,"19":364,"20":0,"21":364,"22":364,"23":364},"b":{"0":[1,1,1],"1":[1,0],"2":[17,0],"3":[17,0],"4":[17,17],"5":[2,15],"6":[15,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[17,0],"15":[17,17],"16":[1,1,1],"17":[1,0],"18":[1,1],"19":[1,0],"20":[1,977],"21":[978,1],"22":[8,969],"23":[1,22],"24":[0,22],"25":[0,1996],"26":[1259,737],"27":[74,1921],"28":[370,444],"29":[814,370],"30":[370,370],"31":[74,296],"32":[0,444],"33":[444,0],"34":[0,0],"35":[44,30],"36":[44,40503],"37":[40547,2688],"38":[440,40063],"39":[44,94896],"40":[94940,44],"41":[440,94456],"42":[44,968],"43":[0,968],"44":[0,44],"45":[44,44],"46":[364,408],"47":[364,0],"48":[364,0],"49":[1820,2184],"50":[4004,1820],"51":[1820,1820],"52":[0,2184],"53":[2184,0],"54":[0,0],"55":[364,3640],"56":[4004,1820],"57":[364,3276],"58":[3640,1456],"59":[364,2912],"60":[3276,1092],"61":[364,0],"62":[364,2548],"63":[2912,728],"64":[364,1],"65":[364,2184],"66":[2548,364]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/TraverseTable.ts","sources":["C:/Users/aqilf/project_team103/src/controller/TraverseTable.ts"],"names":[],"mappings":"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","sourcesContent":["import {parse, defaultTreeAdapter} from \"parse5\";\r\nimport {InsightDataset, InsightError} from \"./IInsightFacade\";\r\nimport Dataset from \"./Dataset\";\r\nimport Room from \"./Room\";\r\nimport * as http from \"http\";\r\n\r\nexport default class TraverseTable {\r\n\tprivate indexColumnNames: string[] = [\r\n\t\t\"views-field views-field-field-building-image\",\r\n\t\t\"views-field views-field-field-building-code\",\r\n\t\t\"views-field views-field-title\",\r\n\t\t\"views-field views-field-field-building-address\",\r\n\t\t\"views-field views-field-nothing\"\r\n\t];\r\n\r\n\tprivate buildingRoomColumnNames: string[] = [\r\n\t\t\"views-field views-field-field-room-number\",\r\n\t\t\"views-field views-field-field-room-capacity\",\r\n\t\t\"views-field views-field-field-room-furniture\",\r\n\t\t\"views-field views-field-field-room-type\",\r\n\t\t\"views-field views-field-nothing\"\r\n\t];\r\n\r\n\tprivate indexTableExist: boolean = false;\r\n\tprivate roomsTableExist: boolean = false;\r\n\tprivate count = 0;\r\n\tprivate getLink = \"http://cs310.students.cs.ubc.ca:11316/api/v1/project_team103/\";\r\n\tprivate buildingLinkedFromIndex: string[] = [];\r\n\tprivate actualCount = 0;\r\n\r\n\t// ================================================ index.htm ======================================================\r\n\tpublic handleIndexHTML(document: any) {\r\n\t\tlet table = this.handleTable(document, \"table\");\r\n\t\tconsole.log(this.indexTableExist);\r\n\t\tif (this.indexTableExist) {\r\n\t\t\tlet tbody = this.handleTBody(table, \"tbody\");\r\n\t\t\tthis.handleTr(tbody, \"tr\");\r\n\t\t} else {\r\n\t\t\tconsole.log(\"asdfasldfasldfa\");\r\n\t\t\tthrow new InsightError(\"No valid table inside index.htm\");\r\n\t\t}\r\n\t\treturn this.buildingLinkedFromIndex;\r\n\t}\r\n\r\n\tprivate handleTable (node: any, tag: string): any {\r\n\t\tfor (let i = 0; i < node.childNodes?.length; i++) {\r\n\t\t\tlet child = node.childNodes[i];\r\n\t\t\t// \"views-table cols-5 table\"\r\n\t\t\tif (child.nodeName === tag && child.attrs[0].value ===  \"views-table cols-5 table\") {\r\n\t\t\t\t// console.log(child);\r\n\t\t\t\tthis.indexTableExist = true;\r\n\t\t\t\t// console.log(\"------------------------\" + child.nodeName + \"------------------------------\")\r\n\t\t\t\t// console.log(child.attrs[0].value);\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst result = this.handleTable(node.childNodes[i], tag);\r\n\t\t\tif (result) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate handleTBody (node: any, tag: string): any {\r\n\t\tfor (let i = 0; i < node.childNodes?.length; i++) {\r\n\t\t\tlet child = node.childNodes[i];\r\n\t\t\t// \"views-table cols-5 table\"\r\n\t\t\tif (child.nodeName === tag) {  // error in second case\r\n\t\t\t\t// console.log(child);\r\n\t\t\t\t// console.log(\"------------------------\" + child.nodeName + \"------------------------------\")\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst result = this.handleTBody(node.childNodes[i], tag);\r\n\t\t\tif (result) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate handleTr (node: any, tag: string): any {\r\n\t\tif (!node) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!node.childNodes) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (const tr of node.childNodes) {\r\n\t\t\t// let child = node.childNodes[i];\r\n\t\t\tif (tr.nodeName === tag) {\r\n\t\t\t\tlet hasAllElement = true;\r\n\t\t\t\tlet currentBuildingLink;\r\n\t\t\t\t// console.log(\"------------------------\" + child.nodeName + \"------------------------------\")\r\n\t\t\t\tfor (const td of tr.childNodes) {\r\n\t\t\t\t\t// let td = tr.childNodes[j];\r\n\t\t\t\t\tif (td.nodeName === \"td\" && this.indexColumnNames.includes(td.attrs[0].value)) {\r\n\t\t\t\t\t\t// console.log(\"======\" + childOfTr.nodeName + \"======\")\r\n\t\t\t\t\t\t// console.log(childOfTr.attrs[0].value);\r\n\r\n\t\t\t\t\t\t// if (childOfTr.attrs[0].value === \"views-field views-field-nothing\") {\r\n\t\t\t\t\t\t// \tconsole.log(\"path = \" + childOfTr.childNodes[1].attrs[0].value);\r\n\t\t\t\t\t\t// \tthis.buildingLinkedFromIndex.push(childOfTr.childNodes[1].attrs[0].value);\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\thasAllElement = hasAllElement && true;\r\n\r\n\t\t\t\t\t\tif (td.attrs[0].value === \"views-field views-field-nothing\") {\r\n\t\t\t\t\t\t\t// console.log(td.childNodes[1].attrs[0].value.substring(2));\r\n\t\t\t\t\t\t\tthis.buildingLinkedFromIndex.push(td.childNodes[1].attrs[0].value.substring(2));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (td.nodeName === \"td\" && !this.indexColumnNames.includes(td.attrs[0].value)) {\r\n\t\t\t\t\t\t// throw new InsightError(\"Invalid td in index.htm table\");\r\n\t\t\t\t\t\thasAllElement = hasAllElement && false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if (hasAllElement) {\r\n\t\t\t\t// \tvar buildingCode;\r\n\t\t\t\t// \tvar buildingName;\r\n\t\t\t\t// \tvar buildingAddress;\r\n\t\t\t\t// \tvar buildingLink;\r\n\t\t\t\t// \tfor (let j = 0; j < child.childNodes.length; j++) {\r\n\t\t\t\t// \t\tlet td = child.childNodes[j];\r\n\t\t\t\t// \t\tif (td.attrs[0].value === \"views-field views-field-field-building-code\") {\r\n\t\t\t\t// \t\t\ttd.childNodes\r\n\t\t\t\t// \t\t} else if (td.attrs[0].value === \"views-field views-field-title\") {\r\n\t\t\t\t//\r\n\t\t\t\t// \t\t} else if (td.attrs[0].value === \"views-field views-field-field-building-address\") {\r\n\t\t\t\t//\r\n\t\t\t\t// \t\t} else if (td.attrs[0].value === \"views-field views-field-nothing\") {\r\n\t\t\t\t//\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t//\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t\tthis.handleTr(tr, tag);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\t// ================================================ index.htm ======================================================\r\n\r\n\r\n\t// ================================================ buildings ======================================================\r\n\tpublic async handleBuildingFile(document: any, dataset: Dataset) {\r\n\t\t// console.log(\"handle building reached\");\r\n\t\tlet table = this.handleBuildingTable(document, \"table\");\r\n\t\tif (this.roomsTableExist) {\r\n\t\t\tlet buildingInfo: BuildingInfo;\r\n\t\t\tbuildingInfo = this.getBuildingInfo(document, \"building-info\");\r\n\t\t\tlet tbody = this.handleBuildingTBody(table, \"tbody\");\r\n\t\t\tawait this.handleBuildingTr(tbody, \"tr\", buildingInfo, dataset);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tprivate getBuildingInfo(node: any, value: string): any {\r\n\t\tfor (let i = 0; i < node.childNodes?.length; i++) {\r\n\t\t\tlet child = node.childNodes[i];\r\n\t\t\tif (child.nodeName === \"div\" && child.attrs[0].value === \"building-info\") {\r\n\t\t\t\t// console.log (\"ASLKDJFALSKDFJHALSKJDFHLASJKDFNLAJKSVLAKSJDBVNLASKJDFLASKJDFHLASKJBLVKJSDBNVLAKJNFLKJASDFNLKJ\");\r\n\t\t\t\tlet fullName = child.childNodes[1].childNodes[0].childNodes[0].value;\r\n\t\t\t\tlet address = child.childNodes[3].childNodes[0].childNodes[0].value;\r\n\t\t\t\t// console.log(fullName);\t\t// FULL NAME GOT\r\n\t\t\t\t// console.log(address);\t\t// ADDRESS GOT\r\n\t\t\t\tlet buildingInfo: BuildingInfo = {name: fullName, address: address};\r\n\t\t\t\t// might have to create a dictionary to get the short name from the full namem\r\n\t\t\t\treturn buildingInfo;\r\n\t\t\t}\r\n\t\t\tconst result = this.getBuildingInfo(node.childNodes[i], value);\r\n\t\t\tif (result) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate handleBuildingTable (node: any, tag: string): any {\r\n\t\tfor (let i = 0; i < node.childNodes?.length; i++) {\r\n\t\t\tlet child = node.childNodes[i];\r\n\t\t\t// \"views-table cols-5 table\"\r\n\t\t\tif (child.nodeName === tag && child.attrs[0].value ===  \"views-table cols-5 table\") {\r\n\t\t\t\t// console.log(child);\r\n\t\t\t\tthis.roomsTableExist = true;\r\n\t\t\t\t// console.log(\"------------------------\" + child.nodeName + \"------------------------------\")\r\n\t\t\t\t// console.log(child.attrs[0].value);\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst result = this.handleBuildingTable(node.childNodes[i], tag);\r\n\t\t\tif (result) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate handleBuildingTBody (node: any, tag: string): any {\r\n\t\tfor (let i = 0; i < node.childNodes?.length; i++) {\r\n\t\t\tlet child = node.childNodes[i];\r\n\t\t\t// \"views-table cols-5 table\"\r\n\t\t\tif (child.nodeName === tag) {  // error in second case\r\n\t\t\t\t// console.log(child);\r\n\t\t\t\t// console.log(\"------------------------\" + child.nodeName + \"------------------------------\");\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst result = this.handleBuildingTBody(node.childNodes[i], tag);\r\n\t\t\tif (result) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// private async handleBuildingTr (node: any, tag: string, buildingInfo: BuildingInfo, dataset: Dataset): Promise<void> {\r\n\t// \tconst promises: unknown[] = [];\r\n\t// \tif (!node) return;\r\n\t// \tif (!node.childNodes) return;\r\n\t//\r\n\t// \tfor (let i = 0; i < node.childNodes.length; i++) {\r\n\t// \t\tlet tr = node.childNodes[i];\r\n\t// \t\tif (tr.nodeName === tag) {\r\n\t// \t\t\tconsole.log(\"------------------------\" + tr.nodeName + \"------------------------------\")\r\n\t// \t\t\tlet hasAllElement = true;\r\n\t// \t\t\tfor (let j = 0; j < tr.childNodes.length; j++) {\r\n\t// \t\t\t\tlet td = tr.childNodes[j];\r\n\t// \t\t\t\tif (td.nodeName === \"td\" && this.buildingRoomColumnNames.includes(td.attrs[0].value)) {\r\n\t// \t\t\t\t\thasAllElement = hasAllElement && true;\r\n\t// \t\t\t\t\tconsole.log(\"======\" + td.nodeName + \"======\")\r\n\t// \t\t\t\t\t// console.log(childOfTr.attrs[0].value);\r\n\t// \t\t\t\t} else if (td.nodeName === \"td\" && !this.buildingRoomColumnNames.includes(td.attrs[0].value)) {\r\n\t// \t\t\t\t\t// throw new InsightError(\"Invalid td in building's rooms table\");\r\n\t// \t\t\t\t\t// HANDLE WHEN THE ROOM ONLY HAS 4/5 OF THE VALID FIELDS, etc\r\n\t// \t\t\t\t\thasAllElement = hasAllElement && false;\r\n\t// \t\t\t\t\tbreak;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t\tif (hasAllElement) {\r\n\t// \t\t\t\tthis.count++;\r\n\t// \t\t\t\tconsole.log(this.count);\r\n\t// \t\t\t\t// console.log(node.parentNode.nodeName);\r\n\t// \t\t\t\tconsole.log(\"full building name = \" + buildingInfo.name);\r\n\t// \t\t\t\tconsole.log(\"building address = \" + buildingInfo.address);\r\n\t//\r\n\t// \t\t\t\tlet urlEncodedAddress: string = buildingInfo.address.replace(/ /g, \"%20\");\r\n\t// \t\t\t\tconsole.log(\"url encoded addy = \" + urlEncodedAddress);\r\n\t// \t\t\t\tlet urlForRoom = this.getLink + urlEncodedAddress;\r\n\t//\r\n\t// \t\t\t\tpromises.push(\r\n\t// \t\t\t\tawait fetch(urlForRoom)\r\n\t// \t\t\t\t\t.then((response) => response.json())\r\n\t// \t\t\t\t\t.then(async (json: any) => {\r\n\t// \t\t\t\t\t\tif (!json.error) {\r\n\t// \t\t\t\t\t\t\t// console.log(\"THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR \")\r\n\t// \t\t\t\t\t\t\tconsole.log(json)\r\n\t// \t\t\t\t\t\t\tvar buildingFullName = buildingInfo.name;\r\n\t// \t\t\t\t\t\t\tvar buildingShortName;\r\n\t// \t\t\t\t\t\t\tvar roomNumber;\r\n\t// \t\t\t\t\t\t\tvar roomName;\r\n\t// \t\t\t\t\t\t\tvar buildingAddress = buildingInfo.address;\r\n\t// \t\t\t\t\t\t\tvar lat = json.lat;\r\n\t// \t\t\t\t\t\t\tvar lon = json.lon;\r\n\t// \t\t\t\t\t\t\tvar roomCapacity;\r\n\t// \t\t\t\t\t\t\tvar roomType;\r\n\t// \t\t\t\t\t\t\tvar roomFurniture;\r\n\t// \t\t\t\t\t\t\tvar roomLink;\r\n\t//\r\n\t// \t\t\t\t\t\t\tfor (let j = 0; j < tr.childNodes.length; j++) {\r\n\t// \t\t\t\t\t\t\t\tlet td = tr.childNodes[j];\r\n\t//\r\n\t// \t\t\t\t\t\t\t\tif (td.nodeName === \"td\" && td.attrs[0].value === \"views-field views-field-field-room-number\") {\r\n\t// \t\t\t\t\t\t\t\t\troomNumber = td.childNodes[1].childNodes[0].value;\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"roomNumber = \" + roomNumber);\r\n\t// \t\t\t\t\t\t\t\t} else if (td.nodeName === \"td\" && td.attrs[0].value === \"views-field views-field-field-room-capacity\") {\r\n\t// \t\t\t\t\t\t\t\t\tvar temp = td.childNodes[0].value;\r\n\t// \t\t\t\t\t\t\t\t\troomCapacity = temp.replace(/\\D/g, '');\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"room capacity = \" + roomCapacity);\r\n\t// \t\t\t\t\t\t\t\t} else if (td.nodeName === \"td\" && td.attrs[0].value === \"views-field views-field-field-room-furniture\") {\r\n\t// \t\t\t\t\t\t\t\t\tvar temp = td.childNodes[0].value;\r\n\t// \t\t\t\t\t\t\t\t\troomFurniture = temp.trim().match(/\\S.*\\S/)?.[0] || '';\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"room furniture = \" + roomFurniture);\r\n\t// \t\t\t\t\t\t\t\t} else if (td.nodeName === \"td\" && td.attrs[0].value === \"views-field views-field-field-room-type\") {\r\n\t// \t\t\t\t\t\t\t\t\tvar temp = td.childNodes[0].value;\r\n\t// \t\t\t\t\t\t\t\t\troomType = temp.trim().match(/\\S.*\\S/)?.[0] || '';\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"room type = \" + roomType);\r\n\t// \t\t\t\t\t\t\t\t} else if (td.nodeName === \"td\" && td.attrs[0].value === \"views-field views-field-nothing\") {\r\n\t// \t\t\t\t\t\t\t\t\troomLink = td.childNodes[1].attrs[0].value;\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"link = \" + roomLink);\r\n\t// \t\t\t\t\t\t\t\t\tlet buildingRoom = roomLink.split(\"/\").pop();\r\n\t// \t\t\t\t\t\t\t\t\tbuildingShortName = buildingRoom.split(\"-\")[0];\r\n\t// \t\t\t\t\t\t\t\t\tconsole.log(\"building short name = \" + buildingShortName);\r\n\t// \t\t\t\t\t\t\t\t}\r\n\t// \t\t\t\t\t\t\t}\r\n\t//\r\n\t// \t\t\t\t\t\t\troomName = buildingShortName + \"_\" + roomNumber;\r\n\t// \t\t\t\t\t\t\tconsole.log(\"room name = \" + roomName);\r\n\t//\r\n\t// \t\t\t\t\t\t\tlet newRoom = this.createRoom (buildingFullName,\r\n\t// \t\t\t\t\t\t\t\tbuildingShortName,\r\n\t// \t\t\t\t\t\t\t\troomNumber,\r\n\t// \t\t\t\t\t\t\t\troomName,\r\n\t// \t\t\t\t\t\t\t\tbuildingAddress,\r\n\t// \t\t\t\t\t\t\t\tlat,\r\n\t// \t\t\t\t\t\t\t\tlon,\r\n\t// \t\t\t\t\t\t\t\troomCapacity,\r\n\t// \t\t\t\t\t\t\t\troomType,\r\n\t// \t\t\t\t\t\t\t\troomFurniture,\r\n\t// \t\t\t\t\t\t\t\troomLink);\r\n\t// \t\t\t\t\t\t\tdataset.setValidity(true);\r\n\t// \t\t\t\t\t\t\tdataset.addValidRoom(newRoom);\r\n\t//\r\n\t// \t\t\t\t\t\t} else {\r\n\t// \t\t\t\t\t\t\tconsole.log(\"THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR \")\r\n\t// \t\t\t\t\t\t\tconsole.log(\"ERROR IS THIS: \");\r\n\t// \t\t\t\t\t\t\tconsole.log(json)\r\n\t// \t\t\t\t\t\t}\r\n\t// \t\t\t\t\t\t// console.log(json)\r\n\t// \t\t\t\t\t})\r\n\t// \t\t\t\t\t.catch(error => {\r\n\t// \t\t\t\t\t\tconsole.error(\"Error fetching room data:\", error); // Log any fetch errors\r\n\t// \t\t\t\t\t})\r\n\t// \t\t\t\t);\r\n\t//\r\n\t//\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t\tawait this.handleBuildingTr(tr, tag, buildingInfo, dataset);\r\n\t// \t}\r\n\t// \tawait Promise.all(promises);\r\n\t// \tconsole.log(\"valid rooms = \" + dataset.getValidRooms().length);\r\n\t// };\r\n\r\n\tprivate async handleBuildingTr(node: any,\r\n\t\ttag: string,\r\n\t\tbuildingInfo: BuildingInfo,\r\n\t\tdataset: Dataset) {\r\n\r\n\t\tconst promises: Array<Promise<void>> = [];\r\n\t\tif (!node || !node.childNodes) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const tr of node.childNodes) {\r\n\t\t\t// let tr = node.childNodes[i];\r\n\t\t\tif (tr.nodeName === tag) {\r\n\t\t\t\tlet hasAllElement = true;\r\n\t\t\t\thasAllElement = this.validateRoom(tr, hasAllElement);\r\n\t\t\t\tif (hasAllElement) {\r\n\t\t\t\t\tthis.count++;\r\n\t\t\t\t\tlet urlEncodedAddress: string = buildingInfo.address.replace(/ /g, \"%20\");\r\n\t\t\t\t\tlet urlForRoom = this.getLink + urlEncodedAddress;\r\n\t\t\t\t\t// console.log(urlForRoom);\r\n\r\n\t\t\t\t\tpromises.push(new Promise<void>((resolve, reject) => {\r\n\t\t\t\t\t\thttp.get(urlForRoom, (response) => {\r\n\t\t\t\t\t\t\tlet data = \"\";\r\n\t\t\t\t\t\t\tresponse.on(\"data\", (chunk) => {\r\n\t\t\t\t\t\t\t\tdata += chunk;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tresponse.on(\"end\", () => {\r\n\t\t\t\t\t\t\t\tconst json = JSON.parse(data);\r\n\t\t\t\t\t\t\t\tif (!json.error) {\r\n\t\t\t\t\t\t\t\t\t// console.log(\"THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR THERE IS AN ERROR \")\r\n\t\t\t\t\t\t\t\t\t// console.log(json);\r\n\t\t\t\t\t\t\t\t\tthis.fetchRoomData(buildingInfo, json, tr, dataset);\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Error response:\", json);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}).on(\"error\", (error) => {\r\n\t\t\t\t\t\t\tconsole.error(\"Error fetching room data:\", error);\r\n\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// await\r\n\t\t\t// this.handleBuildingTr(tr, tag, buildingInfo, dataset);\r\n\t\t}\r\n\t\tawait Promise.all(promises);\r\n\r\n\t\t// for (const tr of node.childNodes) {\r\n\t\t// \tawait this.handleBuildingTr(tr, tag, buildingInfo, dataset);\r\n\t\t// }\r\n\t}\r\n\r\n\tprivate validateRoom(tr: any, hasAllElement: boolean) {\r\n\t\tfor (const td of tr.childNodes) {\r\n\t\t\t// let td = tr.childNodes[j];\r\n\t\t\tif (td.nodeName === \"td\" && this.buildingRoomColumnNames.includes(td.attrs[0].value)) {\r\n\t\t\t\thasAllElement = hasAllElement && true;\r\n\t\t\t} else if (td.nodeName === \"td\" && !this.buildingRoomColumnNames.includes(td.attrs[0].value)) {\r\n\t\t\t\thasAllElement = hasAllElement && false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn hasAllElement;\r\n\t}\r\n\r\n\tprivate fetchRoomData(buildingInfo: BuildingInfo, json: any, tr: any, dataset: Dataset) {\r\n\t\tlet buildingFullName = buildingInfo.name;\r\n\t\tlet buildingShortName;\r\n\t\tlet roomNumber;\r\n\t\tlet roomName;\r\n\t\tlet buildingAddress = buildingInfo.address;\r\n\t\tlet lat = json.lat;\r\n\t\tlet lon = json.lon;\r\n\t\tlet roomCapacity;\r\n\t\tlet roomType;\r\n\t\tlet roomFurniture;\r\n\t\tlet roomLink;\r\n\r\n\t\tfor (const td of tr.childNodes) {\r\n\t\t\t// let td = tr.childNodes[j];\r\n\r\n\t\t\tif (td.nodeName === \"td\" &&\r\n\t\t\t\ttd.attrs[0].value === \"views-field views-field-field-room-number\") {\r\n\t\t\t\troomNumber = td.childNodes[1].childNodes[0].value;\r\n\t\t\t\t// console.log(\"roomNumber = \" + roomNumber);\r\n\t\t\t} else if (td.nodeName === \"td\" &&\r\n\t\t\t\ttd.attrs[0].value === \"views-field views-field-field-room-capacity\") {\r\n\t\t\t\tlet temp = td.childNodes[0].value;\r\n\t\t\t\troomCapacity = temp.replace(/\\D/g, \"\");\r\n\t\t\t\t// console.log(\"room capacity = \" + roomCapacity);\r\n\t\t\t} else if (td.nodeName === \"td\" &&\r\n\t\t\t\ttd.attrs[0].value === \"views-field views-field-field-room-furniture\") {\r\n\t\t\t\tlet temp = td.childNodes[0].value;\r\n\t\t\t\troomFurniture = temp.trim().match(/\\S.*\\S/)?.[0] || \"\";\r\n\t\t\t\t// console.log(\"room furniture = \" + roomFurniture);\r\n\t\t\t} else if (td.nodeName === \"td\" &&\r\n\t\t\t\ttd.attrs[0].value === \"views-field views-field-field-room-type\") {\r\n\t\t\t\tlet temp = td.childNodes[0].value;\r\n\t\t\t\troomType = temp.trim().match(/\\S.*\\S/)?.[0] || \"\";\r\n\t\t\t\t// console.log(\"room type = \" + roomType);\r\n\t\t\t} else if (td.nodeName === \"td\" &&\r\n\t\t\t\ttd.attrs[0].value === \"views-field views-field-nothing\") {\r\n\t\t\t\troomLink = td.childNodes[1].attrs[0].value;\r\n\t\t\t\t// console.log(\"link = \" + roomLink);\r\n\t\t\t\tlet buildingRoom = roomLink.split(\"/\").pop();\r\n\t\t\t\tbuildingShortName = buildingRoom.split(\"-\")[0];\r\n\t\t\t\t// console.log(\"building short name = \" + buildingShortName);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\troomName = buildingShortName + \"_\" + roomNumber;\r\n\t\t// console.log(\"room name = \" + roomName);\r\n\r\n\t\tlet newRoom = this.createRoom(buildingFullName,\r\n\t\t\tbuildingShortName,\r\n\t\t\troomNumber,\r\n\t\t\troomName,\r\n\t\t\tbuildingAddress,\r\n\t\t\tlat,\r\n\t\t\tlon,\r\n\t\t\troomCapacity,\r\n\t\t\troomType,\r\n\t\t\troomFurniture,\r\n\t\t\troomLink);\r\n\t\tdataset.setValidity(true);\r\n\t\tdataset.addValidRoom(newRoom);\r\n\t}\r\n\r\n// ================================================ buildings ======================================================\r\n\r\n\tprivate createRoom (\r\n\t\tbuildingFullName: string,\r\n\t\tbuildingShortName: string,\r\n\t\troomNumber: string,\r\n\t\troomName: string,\r\n\t\tbuildingAddress: string,\r\n\t\tlat: string,\r\n\t\tlon: string,\r\n\t\troomCapacity: string,\r\n\t\troomType: string,\r\n\t\troomFurniture: string,\r\n\t\troomLink: string\r\n\t): Room {\r\n\t\treturn new Room (\r\n\t\t\tbuildingFullName,\r\n\t\t\tbuildingShortName,\r\n\t\t\troomNumber,\r\n\t\t\troomName,\r\n\t\t\tbuildingAddress,\r\n\t\t\tNumber(lat),\r\n\t\t\tNumber(lon),\r\n\t\t\tNumber(roomCapacity),\r\n\t\t\troomType,\r\n\t\t\troomFurniture,\r\n\t\t\troomLink\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport interface BuildingInfo {\r\n\tname: string;\r\n\taddress: string;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ecf9b7349853e0f486a8239a5151cb2277096c11","contentHash":"65dcf6ed38cf3c3a408e808c0327aeeb15b50f58ca440eaf5f433dc3693ceeff"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\Room.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\Room.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":16,"column":8},"end":{"line":16,"column":33}},"2":{"start":{"line":17,"column":8},"end":{"line":17,"column":35}},"3":{"start":{"line":18,"column":8},"end":{"line":18,"column":29}},"4":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"5":{"start":{"line":20,"column":8},"end":{"line":20,"column":31}},"6":{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},"7":{"start":{"line":22,"column":8},"end":{"line":22,"column":23}},"8":{"start":{"line":23,"column":8},"end":{"line":23,"column":27}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"10":{"start":{"line":25,"column":8},"end":{"line":25,"column":35}},"11":{"start":{"line":26,"column":8},"end":{"line":26,"column":25}},"12":{"start":{"line":29,"column":8},"end":{"line":29,"column":29}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":30}},"14":{"start":{"line":35,"column":8},"end":{"line":35,"column":27}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":25}},"16":{"start":{"line":41,"column":8},"end":{"line":41,"column":28}},"17":{"start":{"line":44,"column":8},"end":{"line":44,"column":24}},"18":{"start":{"line":47,"column":8},"end":{"line":47,"column":24}},"19":{"start":{"line":50,"column":8},"end":{"line":50,"column":26}},"20":{"start":{"line":53,"column":8},"end":{"line":53,"column":25}},"21":{"start":{"line":56,"column":8},"end":{"line":56,"column":30}},"22":{"start":{"line":59,"column":8},"end":{"line":59,"column":25}},"23":{"start":{"line":62,"column":0},"end":{"line":62,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":100},"end":{"line":27,"column":5}},"line":15},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":18},"end":{"line":30,"column":5}},"line":28},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":19},"end":{"line":33,"column":5}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":16},"end":{"line":36,"column":5}},"line":34},"4":{"name":"(anonymous_4)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":14},"end":{"line":39,"column":5}},"line":37},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":17},"end":{"line":42,"column":5}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":13},"end":{"line":45,"column":5}},"line":43},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":13},"end":{"line":48,"column":5}},"line":46},"8":{"name":"(anonymous_8)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":15},"end":{"line":51,"column":5}},"line":49},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":14},"end":{"line":54,"column":5}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":19},"end":{"line":57,"column":5}},"line":55},"11":{"name":"(anonymous_11)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":14},"end":{"line":60,"column":5}},"line":58}},"branchMap":{},"s":{"0":1,"1":364,"2":364,"3":364,"4":364,"5":364,"6":364,"7":364,"8":364,"9":364,"10":364,"11":364,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"f":{"0":364,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/Room.ts","sources":["C:/Users/aqilf/project_team103/src/controller/Room.ts"],"names":[],"mappings":";;AAAA,MAAqB,IAAI;IACP,QAAQ,CAAS;IACjB,SAAS,CAAS;IAClB,MAAM,CAAS;IACf,IAAI,CAAS;IACb,OAAO,CAAS;IAEhB,GAAG,CAAS;IACZ,GAAG,CAAS;IACZ,KAAK,CAAS;IAEd,IAAI,CAAS;IACb,SAAS,CAAS;IAClB,IAAI,CAAS;IAE9B,YACC,QAAgB,EAChB,SAAiB,EACjB,MAAc,EACd,IAAY,EACZ,OAAe,EACf,GAAW,EACX,GAAW,EACX,KAAa,EACb,IAAY,EACZ,SAAiB,EACjB,IAAY;QAEZ,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;IAEM,WAAW;QACjB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IAEM,YAAY;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;IAEM,SAAS;QACf,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,UAAU;QAChB,OAAO,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;IAEM,MAAM;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC;IACjB,CAAC;IAEM,MAAM;QACZ,OAAO,IAAI,CAAC,GAAG,CAAC;IACjB,CAAC;IAEM,QAAQ;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;IACnB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;IAEM,YAAY;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;IAEM,OAAO;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;CAED;AArFD,uBAqFC","sourcesContent":["export default class Room {\r\n\tprivate readonly fullname: string;\r\n\tprivate readonly shortname: string;\r\n\tprivate readonly number: string;\r\n\tprivate readonly name: string;\r\n\tprivate readonly address: string;\r\n\r\n\tprivate readonly lat: number;\r\n\tprivate readonly lon: number;\r\n\tprivate readonly seats: number;\r\n\r\n\tprivate readonly type: string;\r\n\tprivate readonly furniture: string;\r\n\tprivate readonly href: string;\r\n\r\n\tconstructor (\r\n\t\tfullname: string,\r\n\t\tshortname: string,\r\n\t\tnumber: string,\r\n\t\tname: string,\r\n\t\taddress: string,\r\n\t\tlat: number,\r\n\t\tlon: number,\r\n\t\tseats: number,\r\n\t\ttype: string,\r\n\t\tfurniture: string,\r\n\t\thref: string\r\n\t) {\r\n\t\tthis.fullname = fullname;\r\n\t\tthis.shortname = shortname;\r\n\t\tthis.number = number;\r\n\t\tthis.name = name;\r\n\t\tthis.address = address;\r\n\t\tthis.lat = lat;\r\n\t\tthis.lon = lon;\r\n\t\tthis.seats = seats;\r\n\t\tthis.type = type;\r\n\t\tthis.furniture = furniture;\r\n\t\tthis.href = href;\r\n\t}\r\n\r\n\tpublic getFullName() {\r\n\t\treturn this.fullname;\r\n\t}\r\n\r\n\tpublic getShortName() {\r\n\t\treturn this.shortname;\r\n\t}\r\n\r\n\tpublic getNumber() {\r\n\t\treturn this.number;\r\n\t}\r\n\r\n\tpublic getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic getAddress() {\r\n\t\treturn this.address;\r\n\t}\r\n\r\n\tpublic getLat() {\r\n\t\treturn this.lat;\r\n\t}\r\n\r\n\tpublic getLon() {\r\n\t\treturn this.lon;\r\n\t}\r\n\r\n\tpublic getSeats() {\r\n\t\treturn this.seats;\r\n\t}\r\n\r\n\tpublic getType() {\r\n\t\treturn this.type;\r\n\t}\r\n\r\n\tpublic getFurniture() {\r\n\t\treturn this.furniture;\r\n\t}\r\n\r\n\tpublic getHref() {\r\n\t\treturn this.href;\r\n\t}\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2dfb9f9334290eade2ff989cd0eb9955c648aeec","contentHash":"070678024f037cbce03cc92e068ac88367ad46e42303477c8a323272875c141a"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\WhereOperator.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\WhereOperator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":41}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":43}},"4":{"start":{"line":11,"column":21},"end":{"line":11,"column":40}},"5":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":82}},"7":{"start":{"line":18,"column":8},"end":{"line":35,"column":9}},"8":{"start":{"line":20,"column":16},"end":{"line":20,"column":53}},"9":{"start":{"line":22,"column":16},"end":{"line":22,"column":51}},"10":{"start":{"line":24,"column":16},"end":{"line":24,"column":60}},"11":{"start":{"line":26,"column":16},"end":{"line":26,"column":66}},"12":{"start":{"line":28,"column":16},"end":{"line":28,"column":66}},"13":{"start":{"line":30,"column":16},"end":{"line":30,"column":66}},"14":{"start":{"line":32,"column":16},"end":{"line":32,"column":53}},"15":{"start":{"line":34,"column":16},"end":{"line":34,"column":78}},"16":{"start":{"line":39,"column":21},"end":{"line":39,"column":40}},"17":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"18":{"start":{"line":41,"column":12},"end":{"line":41,"column":76}},"19":{"start":{"line":43,"column":23},"end":{"line":43,"column":53}},"20":{"start":{"line":44,"column":8},"end":{"line":44,"column":39}},"21":{"start":{"line":44,"column":35},"end":{"line":44,"column":37}},"22":{"start":{"line":48,"column":24},"end":{"line":48,"column":43}},"23":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"24":{"start":{"line":50,"column":12},"end":{"line":50,"column":75}},"25":{"start":{"line":53,"column":25},"end":{"line":53,"column":94}},"26":{"start":{"line":53,"column":55},"end":{"line":53,"column":93}},"27":{"start":{"line":55,"column":24},"end":{"line":55,"column":51}},"28":{"start":{"line":58,"column":26},"end":{"line":58,"column":66}},"29":{"start":{"line":60,"column":8},"end":{"line":64,"column":11}},"30":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"31":{"start":{"line":61,"column":25},"end":{"line":61,"column":26}},"32":{"start":{"line":62,"column":16},"end":{"line":62,"column":64}},"33":{"start":{"line":65,"column":8},"end":{"line":65,"column":27}},"34":{"start":{"line":69,"column":24},"end":{"line":69,"column":43}},"35":{"start":{"line":70,"column":8},"end":{"line":72,"column":9}},"36":{"start":{"line":71,"column":12},"end":{"line":71,"column":75}},"37":{"start":{"line":74,"column":25},"end":{"line":74,"column":94}},"38":{"start":{"line":74,"column":55},"end":{"line":74,"column":93}},"39":{"start":{"line":76,"column":24},"end":{"line":76,"column":51}},"40":{"start":{"line":79,"column":26},"end":{"line":79,"column":65}},"41":{"start":{"line":81,"column":8},"end":{"line":87,"column":11}},"42":{"start":{"line":82,"column":12},"end":{"line":86,"column":13}},"43":{"start":{"line":82,"column":25},"end":{"line":82,"column":26}},"44":{"start":{"line":83,"column":16},"end":{"line":85,"column":17}},"45":{"start":{"line":84,"column":20},"end":{"line":84,"column":68}},"46":{"start":{"line":88,"column":8},"end":{"line":88,"column":27}},"47":{"start":{"line":93,"column":31},"end":{"line":93,"column":64}},"48":{"start":{"line":94,"column":23},"end":{"line":94,"column":40}},"49":{"start":{"line":95,"column":26},"end":{"line":95,"column":43}},"50":{"start":{"line":96,"column":27},"end":{"line":96,"column":29}},"51":{"start":{"line":97,"column":28},"end":{"line":97,"column":59}},"52":{"start":{"line":98,"column":8},"end":{"line":105,"column":11}},"53":{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},"54":{"start":{"line":100,"column":16},"end":{"line":100,"column":41}},"55":{"start":{"line":103,"column":16},"end":{"line":103,"column":40}},"56":{"start":{"line":106,"column":8},"end":{"line":106,"column":28}},"57":{"start":{"line":110,"column":35},"end":{"line":110,"column":63}},"58":{"start":{"line":111,"column":33},"end":{"line":111,"column":59}},"59":{"start":{"line":113,"column":29},"end":{"line":113,"column":65}},"60":{"start":{"line":114,"column":8},"end":{"line":129,"column":9}},"61":{"start":{"line":116,"column":12},"end":{"line":116,"column":48}},"62":{"start":{"line":118,"column":13},"end":{"line":129,"column":9}},"63":{"start":{"line":120,"column":12},"end":{"line":120,"column":48}},"64":{"start":{"line":122,"column":13},"end":{"line":129,"column":9}},"65":{"start":{"line":124,"column":12},"end":{"line":124,"column":50}},"66":{"start":{"line":128,"column":12},"end":{"line":128,"column":42}},"67":{"start":{"line":134,"column":8},"end":{"line":136,"column":9}},"68":{"start":{"line":135,"column":12},"end":{"line":135,"column":73}},"69":{"start":{"line":137,"column":21},"end":{"line":139,"column":10}},"70":{"start":{"line":138,"column":12},"end":{"line":138,"column":72}},"71":{"start":{"line":140,"column":23},"end":{"line":140,"column":39}},"72":{"start":{"line":141,"column":8},"end":{"line":146,"column":9}},"73":{"start":{"line":142,"column":12},"end":{"line":142,"column":92}},"74":{"start":{"line":145,"column":12},"end":{"line":145,"column":89}},"75":{"start":{"line":147,"column":8},"end":{"line":147,"column":62}},"76":{"start":{"line":152,"column":21},"end":{"line":152,"column":42}},"77":{"start":{"line":153,"column":21},"end":{"line":153,"column":44}},"78":{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},"79":{"start":{"line":156,"column":12},"end":{"line":156,"column":76}},"80":{"start":{"line":159,"column":26},"end":{"line":159,"column":47}},"81":{"start":{"line":161,"column":8},"end":{"line":161,"column":34}},"82":{"start":{"line":162,"column":33},"end":{"line":162,"column":55}},"83":{"start":{"line":163,"column":20},"end":{"line":163,"column":42}},"84":{"start":{"line":164,"column":22},"end":{"line":164,"column":36}},"85":{"start":{"line":165,"column":8},"end":{"line":170,"column":9}},"86":{"start":{"line":166,"column":12},"end":{"line":166,"column":63}},"87":{"start":{"line":168,"column":13},"end":{"line":170,"column":9}},"88":{"start":{"line":169,"column":12},"end":{"line":169,"column":76}},"89":{"start":{"line":171,"column":8},"end":{"line":185,"column":9}},"90":{"start":{"line":172,"column":12},"end":{"line":174,"column":13}},"91":{"start":{"line":173,"column":16},"end":{"line":173,"column":79}},"92":{"start":{"line":175,"column":12},"end":{"line":175,"column":31}},"93":{"start":{"line":177,"column":13},"end":{"line":185,"column":9}},"94":{"start":{"line":178,"column":12},"end":{"line":180,"column":13}},"95":{"start":{"line":179,"column":16},"end":{"line":179,"column":79}},"96":{"start":{"line":181,"column":12},"end":{"line":181,"column":31}},"97":{"start":{"line":184,"column":12},"end":{"line":184,"column":76}},"98":{"start":{"line":190,"column":31},"end":{"line":190,"column":64}},"99":{"start":{"line":191,"column":23},"end":{"line":191,"column":40}},"100":{"start":{"line":192,"column":26},"end":{"line":192,"column":43}},"101":{"start":{"line":193,"column":20},"end":{"line":193,"column":26}},"102":{"start":{"line":194,"column":27},"end":{"line":194,"column":29}},"103":{"start":{"line":195,"column":28},"end":{"line":195,"column":59}},"104":{"start":{"line":197,"column":8},"end":{"line":228,"column":9}},"105":{"start":{"line":199,"column":16},"end":{"line":206,"column":19}},"106":{"start":{"line":200,"column":20},"end":{"line":205,"column":21}},"107":{"start":{"line":201,"column":24},"end":{"line":201,"column":49}},"108":{"start":{"line":204,"column":24},"end":{"line":204,"column":48}},"109":{"start":{"line":207,"column":16},"end":{"line":207,"column":22}},"110":{"start":{"line":209,"column":16},"end":{"line":216,"column":19}},"111":{"start":{"line":210,"column":20},"end":{"line":215,"column":21}},"112":{"start":{"line":211,"column":24},"end":{"line":211,"column":49}},"113":{"start":{"line":214,"column":24},"end":{"line":214,"column":48}},"114":{"start":{"line":217,"column":16},"end":{"line":217,"column":22}},"115":{"start":{"line":219,"column":16},"end":{"line":226,"column":19}},"116":{"start":{"line":220,"column":20},"end":{"line":225,"column":21}},"117":{"start":{"line":221,"column":24},"end":{"line":221,"column":49}},"118":{"start":{"line":224,"column":24},"end":{"line":224,"column":48}},"119":{"start":{"line":227,"column":16},"end":{"line":227,"column":22}},"120":{"start":{"line":230,"column":8},"end":{"line":230,"column":28}},"121":{"start":{"line":233,"column":0},"end":{"line":233,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":31},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":30},"end":{"line":36,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":28},"end":{"line":45,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":28},"end":{"line":44,"column":29}},"loc":{"start":{"line":44,"column":35},"end":{"line":44,"column":37}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":27},"end":{"line":66,"column":5}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":53,"column":37},"end":{"line":53,"column":38}},"loc":{"start":{"line":53,"column":55},"end":{"line":53,"column":93}},"line":53},"6":{"name":"(anonymous_6)","decl":{"start":{"line":60,"column":24},"end":{"line":60,"column":25}},"loc":{"start":{"line":60,"column":39},"end":{"line":64,"column":9}},"line":60},"7":{"name":"(anonymous_7)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":28},"end":{"line":89,"column":5}},"line":68},"8":{"name":"(anonymous_8)","decl":{"start":{"line":74,"column":37},"end":{"line":74,"column":38}},"loc":{"start":{"line":74,"column":55},"end":{"line":74,"column":93}},"line":74},"9":{"name":"(anonymous_9)","decl":{"start":{"line":81,"column":24},"end":{"line":81,"column":25}},"loc":{"start":{"line":81,"column":39},"end":{"line":87,"column":9}},"line":81},"10":{"name":"(anonymous_10)","decl":{"start":{"line":92,"column":4},"end":{"line":92,"column":5}},"loc":{"start":{"line":92,"column":36},"end":{"line":107,"column":5}},"line":92},"11":{"name":"(anonymous_11)","decl":{"start":{"line":98,"column":30},"end":{"line":98,"column":31}},"loc":{"start":{"line":98,"column":44},"end":{"line":105,"column":9}},"line":98},"12":{"name":"(anonymous_12)","decl":{"start":{"line":108,"column":4},"end":{"line":108,"column":5}},"loc":{"start":{"line":108,"column":45},"end":{"line":130,"column":5}},"line":108},"13":{"name":"(anonymous_13)","decl":{"start":{"line":133,"column":4},"end":{"line":133,"column":5}},"loc":{"start":{"line":133,"column":42},"end":{"line":148,"column":5}},"line":133},"14":{"name":"(anonymous_14)","decl":{"start":{"line":137,"column":101},"end":{"line":137,"column":102}},"loc":{"start":{"line":137,"column":107},"end":{"line":139,"column":9}},"line":137},"15":{"name":"(anonymous_15)","decl":{"start":{"line":151,"column":4},"end":{"line":151,"column":5}},"loc":{"start":{"line":151,"column":35},"end":{"line":186,"column":5}},"line":151},"16":{"name":"(anonymous_16)","decl":{"start":{"line":189,"column":4},"end":{"line":189,"column":5}},"loc":{"start":{"line":189,"column":48},"end":{"line":231,"column":5}},"line":189},"17":{"name":"(anonymous_17)","decl":{"start":{"line":199,"column":38},"end":{"line":199,"column":39}},"loc":{"start":{"line":199,"column":52},"end":{"line":206,"column":17}},"line":199},"18":{"name":"(anonymous_18)","decl":{"start":{"line":209,"column":38},"end":{"line":209,"column":39}},"loc":{"start":{"line":209,"column":52},"end":{"line":216,"column":17}},"line":209},"19":{"name":"(anonymous_19)","decl":{"start":{"line":219,"column":38},"end":{"line":219,"column":39}},"loc":{"start":{"line":219,"column":52},"end":{"line":226,"column":17}},"line":219}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},{"start":{"line":12,"column":8},"end":{"line":14,"column":9}}],"line":12},"1":{"loc":{"start":{"line":18,"column":8},"end":{"line":35,"column":9}},"type":"switch","locations":[{"start":{"line":19,"column":12},"end":{"line":20,"column":53}},{"start":{"line":21,"column":12},"end":{"line":22,"column":51}},{"start":{"line":23,"column":12},"end":{"line":24,"column":60}},{"start":{"line":25,"column":12},"end":{"line":26,"column":66}},{"start":{"line":27,"column":12},"end":{"line":28,"column":66}},{"start":{"line":29,"column":12},"end":{"line":30,"column":66}},{"start":{"line":31,"column":12},"end":{"line":32,"column":53}},{"start":{"line":33,"column":12},"end":{"line":34,"column":78}}],"line":18},"2":{"loc":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},{"start":{"line":40,"column":8},"end":{"line":42,"column":9}}],"line":40},"3":{"loc":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},{"start":{"line":49,"column":8},"end":{"line":51,"column":9}}],"line":49},"4":{"loc":{"start":{"line":62,"column":33},"end":{"line":62,"column":63}},"type":"binary-expr","locations":[{"start":{"line":62,"column":33},"end":{"line":62,"column":47}},{"start":{"line":62,"column":51},"end":{"line":62,"column":63}}],"line":62},"5":{"loc":{"start":{"line":70,"column":8},"end":{"line":72,"column":9}},"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":72,"column":9}},{"start":{"line":70,"column":8},"end":{"line":72,"column":9}}],"line":70},"6":{"loc":{"start":{"line":83,"column":16},"end":{"line":85,"column":17}},"type":"if","locations":[{"start":{"line":83,"column":16},"end":{"line":85,"column":17}},{"start":{"line":83,"column":16},"end":{"line":85,"column":17}}],"line":83},"7":{"loc":{"start":{"line":84,"column":37},"end":{"line":84,"column":67}},"type":"binary-expr","locations":[{"start":{"line":84,"column":37},"end":{"line":84,"column":51}},{"start":{"line":84,"column":55},"end":{"line":84,"column":67}}],"line":84},"8":{"loc":{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},{"start":{"line":99,"column":12},"end":{"line":104,"column":13}}],"line":99},"9":{"loc":{"start":{"line":114,"column":8},"end":{"line":129,"column":9}},"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":129,"column":9}},{"start":{"line":114,"column":8},"end":{"line":129,"column":9}}],"line":114},"10":{"loc":{"start":{"line":114,"column":12},"end":{"line":114,"column":50}},"type":"binary-expr","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":30}},{"start":{"line":114,"column":34},"end":{"line":114,"column":50}}],"line":114},"11":{"loc":{"start":{"line":118,"column":13},"end":{"line":129,"column":9}},"type":"if","locations":[{"start":{"line":118,"column":13},"end":{"line":129,"column":9}},{"start":{"line":118,"column":13},"end":{"line":129,"column":9}}],"line":118},"12":{"loc":{"start":{"line":122,"column":13},"end":{"line":129,"column":9}},"type":"if","locations":[{"start":{"line":122,"column":13},"end":{"line":129,"column":9}},{"start":{"line":122,"column":13},"end":{"line":129,"column":9}}],"line":122},"13":{"loc":{"start":{"line":134,"column":8},"end":{"line":136,"column":9}},"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":136,"column":9}},{"start":{"line":134,"column":8},"end":{"line":136,"column":9}}],"line":134},"14":{"loc":{"start":{"line":141,"column":8},"end":{"line":146,"column":9}},"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":146,"column":9}},{"start":{"line":141,"column":8},"end":{"line":146,"column":9}}],"line":141},"15":{"loc":{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},{"start":{"line":155,"column":8},"end":{"line":157,"column":9}}],"line":155},"16":{"loc":{"start":{"line":165,"column":8},"end":{"line":170,"column":9}},"type":"if","locations":[{"start":{"line":165,"column":8},"end":{"line":170,"column":9}},{"start":{"line":165,"column":8},"end":{"line":170,"column":9}}],"line":165},"17":{"loc":{"start":{"line":168,"column":13},"end":{"line":170,"column":9}},"type":"if","locations":[{"start":{"line":168,"column":13},"end":{"line":170,"column":9}},{"start":{"line":168,"column":13},"end":{"line":170,"column":9}}],"line":168},"18":{"loc":{"start":{"line":171,"column":8},"end":{"line":185,"column":9}},"type":"if","locations":[{"start":{"line":171,"column":8},"end":{"line":185,"column":9}},{"start":{"line":171,"column":8},"end":{"line":185,"column":9}}],"line":171},"19":{"loc":{"start":{"line":172,"column":12},"end":{"line":174,"column":13}},"type":"if","locations":[{"start":{"line":172,"column":12},"end":{"line":174,"column":13}},{"start":{"line":172,"column":12},"end":{"line":174,"column":13}}],"line":172},"20":{"loc":{"start":{"line":177,"column":13},"end":{"line":185,"column":9}},"type":"if","locations":[{"start":{"line":177,"column":13},"end":{"line":185,"column":9}},{"start":{"line":177,"column":13},"end":{"line":185,"column":9}}],"line":177},"21":{"loc":{"start":{"line":178,"column":12},"end":{"line":180,"column":13}},"type":"if","locations":[{"start":{"line":178,"column":12},"end":{"line":180,"column":13}},{"start":{"line":178,"column":12},"end":{"line":180,"column":13}}],"line":178},"22":{"loc":{"start":{"line":197,"column":8},"end":{"line":228,"column":9}},"type":"switch","locations":[{"start":{"line":198,"column":12},"end":{"line":207,"column":22}},{"start":{"line":208,"column":12},"end":{"line":217,"column":22}},{"start":{"line":218,"column":12},"end":{"line":227,"column":22}}],"line":197},"23":{"loc":{"start":{"line":200,"column":20},"end":{"line":205,"column":21}},"type":"if","locations":[{"start":{"line":200,"column":20},"end":{"line":205,"column":21}},{"start":{"line":200,"column":20},"end":{"line":205,"column":21}}],"line":200},"24":{"loc":{"start":{"line":210,"column":20},"end":{"line":215,"column":21}},"type":"if","locations":[{"start":{"line":210,"column":20},"end":{"line":215,"column":21}},{"start":{"line":210,"column":20},"end":{"line":215,"column":21}}],"line":210},"25":{"loc":{"start":{"line":220,"column":20},"end":{"line":225,"column":21}},"type":"if","locations":[{"start":{"line":220,"column":20},"end":{"line":225,"column":21}},{"start":{"line":220,"column":20},"end":{"line":225,"column":21}}],"line":220}},"s":{"0":1,"1":1,"2":1,"3":72,"4":111,"5":111,"6":3,"7":108,"8":25,"9":5,"10":15,"11":25,"12":25,"13":3,"14":2,"15":8,"16":2,"17":2,"18":1,"19":1,"20":1,"21":64612,"22":5,"23":5,"24":1,"25":4,"26":6,"27":4,"28":1,"29":1,"30":2,"31":2,"32":129224,"33":1,"34":25,"35":25,"36":1,"37":24,"38":44,"39":24,"40":11,"41":11,"42":22,"43":22,"44":1164472,"45":597826,"46":11,"47":15,"48":9,"49":9,"50":9,"51":9,"52":9,"53":453012,"54":451907,"55":1105,"56":9,"57":453012,"58":453012,"59":453012,"60":453012,"61":728,"62":452284,"63":0,"64":452284,"65":129224,"66":323060,"67":62,"68":8,"69":54,"70":0,"71":54,"72":54,"73":50,"74":4,"75":54,"76":68,"77":68,"78":68,"79":6,"80":62,"81":62,"82":62,"83":62,"84":62,"85":62,"86":62,"87":0,"88":0,"89":54,"90":42,"91":2,"92":40,"93":12,"94":10,"95":1,"96":9,"97":2,"98":53,"99":40,"100":40,"101":40,"102":40,"103":40,"104":40,"105":18,"106":1163016,"107":1162658,"108":358,"109":18,"110":1,"111":64612,"112":64573,"113":39,"114":1,"115":21,"116":1228356,"117":1128322,"118":100034,"119":21,"120":40,"121":1},"f":{"0":72,"1":111,"2":2,"3":64612,"4":5,"5":6,"6":2,"7":25,"8":44,"9":22,"10":15,"11":453012,"12":453012,"13":62,"14":0,"15":68,"16":53,"17":1163016,"18":64612,"19":1228356},"b":{"0":[3,108],"1":[25,5,15,25,25,3,2,8],"2":[1,1],"3":[1,4],"4":[129224,124225],"5":[1,24],"6":[597826,566646],"7":[597826,597826],"8":[451907,1105],"9":[728,452284],"10":[453012,728],"11":[0,452284],"12":[129224,323060],"13":[8,54],"14":[50,4],"15":[6,62],"16":[62,0],"17":[0,0],"18":[42,12],"19":[2,40],"20":[10,2],"21":[1,9],"22":[18,1,21],"23":[1162658,358],"24":[64573,39],"25":[1128322,100034]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/WhereOperator.ts","sources":["C:/Users/aqilf/project_team103/src/controller/WhereOperator.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightError, InsightResult} from \"./IInsightFacade\";\r\nimport QueryOperator from \"./QueryOperator\";\r\n\r\nconst fsPromises = require(\"fs\").promises;\r\n\r\nexport default class WhereOperator {\r\n\r\n\tprivate queryOperator: QueryOperator;\r\n\tconstructor(queryOperator: QueryOperator) {\r\n\t\tthis.queryOperator = queryOperator;\r\n\t}\r\n\r\n\tpublic async handleWhere(queryS: any): Promise<boolean[]> {\r\n\r\n\t\tconst keys = Object.keys(queryS);\r\n\r\n\t\tif (keys.length > 1) {\r\n\t\t\tthrow new InsightError(\"More than one key in WHERE\");\r\n\t\t}\r\n\r\n        // Terminating calls are IS, EQ, GT, LT\r\n        // AND, OR, NOT have to be recursive\r\n        // TODO: query key parser;\r\n\t\tswitch (keys[0]) {\r\n\t\t\tcase \"AND\":\r\n\t\t\t\treturn this.handleAnd(queryS[\"AND\"]);\r\n\t\t\tcase \"OR\":\r\n\t\t\t\treturn this.handleOr(queryS[\"OR\"]);\r\n\t\t\tcase \"IS\":\r\n\t\t\t\treturn this.handleSComparison(queryS[\"IS\"]);\r\n\t\t\tcase \"EQ\":\r\n\t\t\t\treturn this.handleMComparison(queryS[\"EQ\"], \"EQ\");\r\n\t\t\tcase \"GT\":\r\n\t\t\t\treturn this.handleMComparison(queryS[\"GT\"], \"GT\");\r\n\t\t\tcase \"LT\":\r\n\t\t\t\treturn this.handleMComparison(queryS[\"LT\"], \"LT\");\r\n\t\t\tcase \"NOT\":\r\n\t\t\t\treturn this.handleNot(queryS[\"NOT\"]);\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new InsightError(\"Invalid filter key\");\r\n\t\t}\r\n\t}\r\n\r\n    // All sections in the dataset outside of the given conditions\r\n\tprivate async handleNot(queryS: any): Promise<boolean[]> {\r\n\t\tconst keys = Object.keys(queryS);\r\n\r\n\t\tif (keys.length !== 1) {\r\n\t\t\tthrow new InsightError(\"Wrong number of keys\");\r\n\t\t}\r\n\r\n\t\tlet toDelete: boolean[] = await this.handleWhere(queryS);\r\n\r\n\t\treturn toDelete.map((x) => !x);\r\n\t}\r\n\r\n    // Takes two insight result arrays and joins the two together\r\n\tprivate async handleOr(queryS: any): Promise<boolean[]> {\r\n\t\tconst filters = Object.keys(queryS);\r\n\r\n\t\tif (filters.length === 0) {\r\n\t\t\tthrow new InsightError(\"No keys found in OR\");\r\n\t\t}\r\n\r\n        // Map each filter to a promise returned by handleWhere\r\n\t\tconst promises =  filters.map(async (filter) => await this.handleWhere(queryS[filter]));\r\n\r\n        // Use Promise.all to wait for all promises to resolve\r\n\t\tconst results = await Promise.all(promises);\r\n\r\n        // Assuming all results are boolean arrays of the same length.\r\n        // Initialize resultArray with false for each element.\r\n\t\tlet resultArray = new Array(results[0].length).fill(false);\r\n\r\n        // Combine the results using logical OR\r\n\t\tresults.forEach((newResult) => {\r\n\t\t\tfor (let i = 0; i < resultArray.length; i++) {\r\n\t\t\t\tresultArray[i] = resultArray[i] || newResult[i];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n    // Takes two insight result arrays and only joins the same sections together\r\n\tprivate async handleAnd(queryS: any): Promise<boolean[]> {\r\n\t\tconst filters = Object.keys(queryS);\r\n\r\n\t\tif (filters.length === 0) {\r\n\t\t\tthrow new InsightError(\"No keys found in OR\");\r\n\t\t}\r\n\r\n        // Map each filter to a promise returned by handleWhere\r\n\t\tconst promises =  filters.map(async (filter) => await this.handleWhere(queryS[filter]));\r\n\r\n        // Use Promise.all to wait for all promises to resolve\r\n\t\tconst results = await Promise.all(promises);\r\n\r\n        // Assuming all results are boolean arrays of the same length.\r\n        // Initialize resultArray with false for each element.\r\n\t\tlet resultArray = new Array(results[0].length).fill(true);\r\n\r\n        // Combine the results using logical OR\r\n\t\tresults.forEach((newResult) => {\r\n\t\t\tfor (let i = 0; i < resultArray.length; i++) {\r\n\t\t\t\tif (resultArray[i]) {\r\n\t\t\t\t\tresultArray[i] = resultArray[i]  && newResult[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n    // If there is no InsightResult passed in, create an insight result based on the queryKey\r\n    // This insight result will have all the fields and sections of the requested dataset\r\n\tprivate async handleSComparison(queryS: any): Promise<boolean[]> {\r\n\r\n\t\tconst parsedQueryKey: any =  await this.queryKeyParser(queryS);\r\n\t\tconst sField: string = parsedQueryKey[1];\r\n\t\tconst toCompare: string = parsedQueryKey[2];\r\n\r\n\t\tlet booleanArray: boolean[] = [];\r\n\t\tlet insightsArray: InsightResult[] = this.queryOperator.getDataset();\r\n\r\n\t\tinsightsArray.forEach((_, index) => {\r\n\t\t\tif (!this.matchesQueryPattern(String(insightsArray[index][sField]), toCompare)) {\r\n\t\t\t\tbooleanArray.push(false);\r\n\t\t\t} else {\r\n\t\t\t\tbooleanArray.push(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn booleanArray;\r\n\t}\r\n\r\n\tprivate  matchesQueryPattern(input: string, queryPattern: string): boolean {\r\n        // Check if the pattern starts and/or ends with an asterisk\r\n\t\tconst startsWithAsterisk = queryPattern.startsWith(\"*\");\r\n\t\tconst endsWithAsterisk = queryPattern.endsWith(\"*\");\r\n\r\n        // Remove asterisks from the pattern for comparison\r\n\t\tconst cleanPattern = queryPattern.replace(/^\\*|\\*$/g, \"\");\r\n\r\n\t\tif (startsWithAsterisk && endsWithAsterisk) {\r\n            // Contains inputstring\r\n\t\t\treturn input.includes(cleanPattern);\r\n\t\t} else if (startsWithAsterisk) {\r\n            // Ends with inputstring\r\n\t\t\treturn input.endsWith(cleanPattern);\r\n\t\t} else if (endsWithAsterisk) {\r\n            // Starts with inputstring\r\n\t\t\treturn input.startsWith(cleanPattern);\r\n\t\t} else {\r\n            // Matches inputstring exactly\r\n\t\t\treturn input === cleanPattern;\r\n\t\t}\r\n\t}\r\n\r\n    // Checks if the given idString is a valid dataset name\r\n    // If it is, it returns an entire dataset in InsightResult form\r\n\tprivate async validateAndSetDataset(idString: string): Promise<void> {\r\n\r\n\t\tif (!this.queryOperator.getDatasetIds().includes(idString)) {\r\n\t\t\tthrow new InsightError(\"Dataset not found\");\r\n\t\t}\r\n\t\tconst data = await fsPromises.readFile(this.queryOperator.getDatasetDirPath(idString)).catch(() => {\r\n\t\t\tthrow new InsightError(\"Error file read.\");\r\n\t\t} );\r\n\r\n\t\tconst object = JSON.parse(data);\r\n\r\n\t\tif (object.kind === \"sections\") {\r\n\t\t\tthis.queryOperator.setDataset(JSON.parse(JSON.stringify(object.validSections)));\r\n\t\t} else {\r\n\t\t\tthis.queryOperator.setDataset(JSON.parse(JSON.stringify(object.validRooms)));\r\n\t\t}\r\n\t\tthis.queryOperator.setDatasetToQueryId(object.idName);\r\n\t}\r\n\r\n    // Takes a query key and returns a valid dataset id to search for and valid mfield and sfield.\r\n    // Throws Insight Error if not a valid query string.\r\n\tprivate async queryKeyParser(queryKey: any): Promise<any> {\r\n\t\tconst keys = Object.keys(queryKey);\r\n\t\tconst vals: any = Object.values(queryKey);\r\n\r\n        // Check if there are more than 1 key in\r\n\t\tif (keys.length !== 1) {\r\n\t\t\tthrow new InsightError(\"Wrong number of keys\");\r\n\t\t}\r\n\r\n        // Strores idstring and m or s field into parsedArray\r\n\t\tlet parsedArray: Array<number | string> = keys[0].split(\"_\", 2);\r\n\r\n        // Add the val\r\n\t\tparsedArray.push(vals[0]);\r\n\r\n\t\tconst datasetToQueryId: string = String(parsedArray[0]);\r\n\t\tconst key: string = String(parsedArray[1]);\r\n\t\tconst value: string | number = parsedArray[2];\r\n\r\n\t\tif (this.queryOperator.getQueryingDatasetId()  === \"\") {\r\n\t\t\tawait this.validateAndSetDataset(datasetToQueryId);\r\n\t\t} else if (this.queryOperator.getQueryingDatasetId() !== datasetToQueryId) {\r\n\t\t\tthrow new InsightError(\"Querying 2 Datasets.\");\r\n\t\t}\r\n\r\n\t\tif (this.queryOperator.mkey.includes(key)) {\r\n\t\t\tif (typeof value !== \"number\") {\r\n\t\t\t\tthrow new InsightError(\"Invalid mfield type\");\r\n\t\t\t}\r\n\t\t\treturn parsedArray;\r\n\t\t} else if (this.queryOperator.skey.includes(key)) {\r\n\t\t\tif (typeof value !== \"string\") {\r\n\t\t\t\tthrow new InsightError(\"Invalid sfield type\");\r\n\t\t\t}\r\n\t\t\treturn parsedArray;\r\n\t\t} else {\r\n\t\t\tthrow new InsightError(\"Invalid skey or mkey\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n    // If there is no InsightResult passed in, create an insight result based on the queryKey\r\n    // This insight result will have all the fields and sections of the requested dataset\r\n\tprivate async handleMComparison\r\n\t( queryS: any, comparator: string): Promise<boolean[]> {\r\n\r\n\t\tconst parsedQueryKey: any = await this.queryKeyParser(queryS);\r\n\t\tconst mField: string = parsedQueryKey[1];\r\n\t\tconst toCompare: number = parsedQueryKey[2];\r\n\t\tconst key: string = mField;\r\n\r\n\t\tlet booleanArray: boolean[] = [];\r\n\t\tlet insightsArray: InsightResult[] = this.queryOperator.getDataset();\r\n\r\n\r\n        // Apply condition and shorten InsightResult array\r\n\t\tswitch (comparator) {\r\n\t\t\tcase \"EQ\" :\r\n\t\t\t\tinsightsArray.forEach((_, index) => {\r\n\t\t\t\t\tif (Number(insightsArray[index][key]) !== toCompare) {\r\n\t\t\t\t\t\tbooleanArray.push(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbooleanArray.push(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"LT\" :\r\n\t\t\t\tinsightsArray.forEach((_, index) => {\r\n\t\t\t\t\tif (Number(insightsArray[index][key]) >= toCompare) {\r\n\t\t\t\t\t\tbooleanArray.push(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbooleanArray.push(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"GT\" :\r\n\t\t\t\tinsightsArray.forEach((_, index) => {\r\n\t\t\t\t\tif (Number(insightsArray[index][key]) <= toCompare) {\r\n\t\t\t\t\t\tbooleanArray.push(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbooleanArray.push(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n        // Return InsightResult Array\r\n\t\treturn  booleanArray;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a637c63b74144b6b92ec9792881405b8f44a708d","contentHash":"e9ec916210e967936502d072c58e6ce757bf25137a436bd6b7c059a8db8697e2"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\OptionsOperator.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\OptionsOperator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":43}},"3":{"start":{"line":11,"column":19},"end":{"line":11,"column":38}},"4":{"start":{"line":13,"column":27},"end":{"line":13,"column":91}},"5":{"start":{"line":13,"column":46},"end":{"line":13,"column":90}},"6":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":78}},"8":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"9":{"start":{"line":18,"column":12},"end":{"line":18,"column":66}},"10":{"start":{"line":21,"column":24},"end":{"line":21,"column":57}},"11":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"12":{"start":{"line":23,"column":12},"end":{"line":23,"column":72}},"13":{"start":{"line":26,"column":29},"end":{"line":35,"column":10}},"14":{"start":{"line":27,"column":29},"end":{"line":27,"column":31}},"15":{"start":{"line":28,"column":12},"end":{"line":33,"column":15}},"16":{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},"17":{"start":{"line":31,"column":20},"end":{"line":31,"column":55}},"18":{"start":{"line":34,"column":12},"end":{"line":34,"column":30}},"19":{"start":{"line":36,"column":8},"end":{"line":50,"column":9}},"20":{"start":{"line":37,"column":29},"end":{"line":37,"column":72}},"21":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"22":{"start":{"line":39,"column":16},"end":{"line":39,"column":95}},"23":{"start":{"line":41,"column":12},"end":{"line":49,"column":15}},"24":{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},"25":{"start":{"line":43,"column":20},"end":{"line":43,"column":30}},"26":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"27":{"start":{"line":46,"column":20},"end":{"line":46,"column":29}},"28":{"start":{"line":48,"column":16},"end":{"line":48,"column":25}},"29":{"start":{"line":51,"column":8},"end":{"line":51,"column":28}},"30":{"start":{"line":54,"column":28},"end":{"line":56,"column":10}},"31":{"start":{"line":55,"column":12},"end":{"line":55,"column":55}},"32":{"start":{"line":57,"column":8},"end":{"line":57,"column":29}},"33":{"start":{"line":60,"column":0},"end":{"line":60,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":31},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":36},"end":{"line":52,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":37},"end":{"line":13,"column":38}},"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":90}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":42},"end":{"line":26,"column":43}},"loc":{"start":{"line":26,"column":55},"end":{"line":35,"column":9}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":28},"end":{"line":28,"column":29}},"loc":{"start":{"line":28,"column":39},"end":{"line":33,"column":13}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":41,"column":30},"end":{"line":41,"column":31}},"loc":{"start":{"line":41,"column":40},"end":{"line":49,"column":13}},"line":41},"6":{"name":"(anonymous_6)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":26},"end":{"line":58,"column":5}},"line":53},"7":{"name":"(anonymous_7)","decl":{"start":{"line":54,"column":40},"end":{"line":54,"column":41}},"loc":{"start":{"line":54,"column":50},"end":{"line":56,"column":9}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},{"start":{"line":14,"column":8},"end":{"line":16,"column":9}}],"line":14},"1":{"loc":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},{"start":{"line":17,"column":8},"end":{"line":19,"column":9}}],"line":17},"2":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"3":{"loc":{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},"type":"if","locations":[{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},{"start":{"line":30,"column":16},"end":{"line":32,"column":17}}],"line":30},"4":{"loc":{"start":{"line":36,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":50,"column":9}},{"start":{"line":36,"column":8},"end":{"line":50,"column":9}}],"line":36},"5":{"loc":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},{"start":{"line":38,"column":12},"end":{"line":40,"column":13}}],"line":38},"6":{"loc":{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":44,"column":17}},{"start":{"line":42,"column":16},"end":{"line":44,"column":17}}],"line":42},"7":{"loc":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"type":"if","locations":[{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},{"start":{"line":45,"column":16},"end":{"line":47,"column":17}}],"line":45}},"s":{"0":1,"1":1,"2":72,"3":3,"4":3,"5":3,"6":3,"7":0,"8":3,"9":0,"10":3,"11":3,"12":0,"13":3,"14":12,"15":12,"16":26,"17":24,"18":12,"19":3,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":3,"30":3,"31":7,"32":3,"33":1},"f":{"0":72,"1":3,"2":3,"3":12,"4":26,"5":0,"6":3,"7":7},"b":{"0":[0,3],"1":[0,3],"2":[0,3],"3":[24,2],"4":[0,3],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/OptionsOperator.ts","sources":["C:/Users/aqilf/project_team103/src/controller/OptionsOperator.ts"],"names":[],"mappings":";;AAAA,qDAA6D;AAE7D,MAAqB,eAAe;IAC3B,aAAa,CAAgB;IACrC,YAAY,aAA4B;QACvC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACpC,CAAC;IAEM,aAAa,CAAC,MAAW,EAAE,QAA0B;QAErD,qCAAqC;QAC3C,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAGzB,qEAAqE;QAC3E,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QACpF,IAAI,UAAU,EAAE;YACf,MAAM,IAAI,6BAAY,CAAC,wBAAwB,CAAC,CAAC;SACjD;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC9B,MAAM,IAAI,6BAAY,CAAC,YAAY,CAAC,CAAC;SACrC;QAEK,kBAAkB;QACxB,MAAM,OAAO,GAAa,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAE5D,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,MAAM,IAAI,6BAAY,CAAC,kBAAkB,CAAC,CAAC;SAC3C;QAEK,iCAAiC;QACvC,MAAM,YAAY,GAAoB,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YAC9D,IAAI,UAAU,GAAkB,EAAE,CAAC;YACnC,OAAO,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACb,sDAAsD;gBAClE,IAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;oBACxD,UAAU,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;iBACnC;YACF,CAAC,CAAC,CAAC;YACH,OAAO,UAAU,CAAC;QACnB,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAC3B,MAAM,QAAQ,GAAW,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACrE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAChC,MAAM,IAAI,6BAAY,CAAC,qCAAqC,CAAC,CAAC;aAC9D;YACD,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1B,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE;oBAC9B,OAAO,CAAC,CAAC,CAAC;iBACV;gBACD,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE;oBAC9B,OAAO,CAAC,CAAC;iBACT;gBACD,OAAO,CAAC,CAAC;YACV,CAAC,CAAC,CAAC;SACH;QAED,OAAO,YAAY,CAAC;IACrB,CAAC;IAEO,YAAY,CAAC,OAAiB;QACrC,IAAI,aAAa,GAAa,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAClD,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QACH,OAAO,aAAa,CAAC;IACtB,CAAC;CACD;AAlED,kCAkEC","sourcesContent":["import {InsightError, InsightResult} from \"./IInsightFacade\";\r\nimport QueryOperator from \"./QueryOperator\";\r\nexport default class OptionsOperator {\r\n\tprivate queryOperator: QueryOperator;\r\n\tconstructor(queryOperator: QueryOperator) {\r\n\t\tthis.queryOperator = queryOperator;\r\n\t}\n\r\n\tpublic handleOptions(queryS: any, filtered:  InsightResult[]): InsightResult[] {\r\n\r\n        // If columns not present throw error\r\n\t\tlet keys = Object.keys(queryS);\r\n\r\n\r\n        // Check if there is a key that does not match the valid options keys\r\n\t\tconst invalidKey = keys.some((key) => !this.queryOperator.optionsKey.includes(key));\r\n\t\tif (invalidKey) {\r\n\t\t\tthrow new InsightError(\"Invalid key in OPTIONS\");\r\n\t\t}\r\n\r\n\t\tif (!keys.includes(\"COLUMNS\")) {\r\n\t\t\tthrow new InsightError(\"No columns\");\r\n\t\t}\r\n\r\n        // Columns to keep\r\n\t\tconst columns: string[] = this.parseColumns(queryS.COLUMNS);\r\n\r\n\t\tif (columns.length < 1) {\r\n\t\t\tthrow new InsightError(\"Columns is empty\");\r\n\t\t}\r\n\r\n        // Filters for the needed columns\r\n\t\tconst updatedArray: InsightResult[] = filtered.map((insight) => {\r\n\t\t\tlet newInsight: InsightResult = {};\r\n\t\t\tcolumns.forEach((field) => {\r\n                // Object.prototype.hasOwnProperty.call(insight, field\r\n\t\t\t\tif(Object.prototype.hasOwnProperty.call(insight, field)) {\r\n\t\t\t\t\tnewInsight[field] = insight[field];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn newInsight;\r\n\t\t});\r\n\r\n\t\tif (keys.includes(\"ORDER\")) {\r\n\t\t\tconst toSortBy: string = this.queryOperator.parseField(queryS.ORDER);\r\n\t\t\tif (!columns.includes(toSortBy)) {\r\n\t\t\t\tthrow new InsightError(\"Sort key is not present in columns.\");\r\n\t\t\t}\r\n\t\t\tupdatedArray.sort((a, b) => {\r\n\t\t\t\tif (a[toSortBy] < b[toSortBy]) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif (a[toSortBy] > b[toSortBy]) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn updatedArray;\r\n\t}\n\r\n\tprivate parseColumns(columns: string[]) {\r\n\t\tlet parsedColumns: string[] = columns.map((item) => {\r\n\t\t\treturn this.queryOperator.parseField(item);\r\n\t\t});\r\n\t\treturn parsedColumns;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dcd95ebfff550d3bc6d5678e487d7418f9465164","contentHash":"b30d6265b3b740d0b09e70266b628ae8699af52cb696bff04ee90be37844a065"},"C:\\Users\\aqilf\\project_team103\\src\\controller\\TransformOperator.ts":{"path":"C:\\Users\\aqilf\\project_team103\\src\\controller\\TransformOperator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":8},"end":{"line":6,"column":43}},"2":{"start":{"line":10,"column":8},"end":{"line":10,"column":47}},"3":{"start":{"line":11,"column":22},"end":{"line":11,"column":53}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":36}},"5":{"start":{"line":14,"column":8},"end":{"line":26,"column":11}},"6":{"start":{"line":15,"column":12},"end":{"line":25,"column":15}},"7":{"start":{"line":16,"column":38},"end":{"line":16,"column":56}},"8":{"start":{"line":17,"column":34},"end":{"line":17,"column":50}},"9":{"start":{"line":18,"column":39},"end":{"line":18,"column":59}},"10":{"start":{"line":19,"column":34},"end":{"line":19,"column":51}},"11":{"start":{"line":21,"column":44},"end":{"line":21,"column":90}},"12":{"start":{"line":23,"column":16},"end":{"line":23,"column":63}},"13":{"start":{"line":24,"column":16},"end":{"line":24,"column":62}},"14":{"start":{"line":28,"column":8},"end":{"line":28,"column":20}},"15":{"start":{"line":29,"column":8},"end":{"line":31,"column":11}},"16":{"start":{"line":30,"column":12},"end":{"line":30,"column":34}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":22}},"18":{"start":{"line":35,"column":30},"end":{"line":35,"column":58}},"19":{"start":{"line":36,"column":32},"end":{"line":36,"column":62}},"20":{"start":{"line":37,"column":28},"end":{"line":37,"column":77}},"21":{"start":{"line":38,"column":8},"end":{"line":80,"column":9}},"22":{"start":{"line":40,"column":31},"end":{"line":40,"column":47}},"23":{"start":{"line":41,"column":16},"end":{"line":45,"column":17}},"24":{"start":{"line":41,"column":29},"end":{"line":41,"column":30}},"25":{"start":{"line":42,"column":20},"end":{"line":44,"column":21}},"26":{"start":{"line":43,"column":24},"end":{"line":43,"column":70}},"27":{"start":{"line":46,"column":16},"end":{"line":46,"column":32}},"28":{"start":{"line":49,"column":31},"end":{"line":49,"column":32}},"29":{"start":{"line":50,"column":16},"end":{"line":52,"column":17}},"30":{"start":{"line":50,"column":29},"end":{"line":50,"column":30}},"31":{"start":{"line":51,"column":20},"end":{"line":51,"column":67}},"32":{"start":{"line":53,"column":36},"end":{"line":53,"column":70}},"33":{"start":{"line":54,"column":16},"end":{"line":54,"column":34}},"34":{"start":{"line":57,"column":31},"end":{"line":57,"column":32}},"35":{"start":{"line":58,"column":16},"end":{"line":60,"column":17}},"36":{"start":{"line":58,"column":29},"end":{"line":58,"column":30}},"37":{"start":{"line":59,"column":20},"end":{"line":59,"column":67}},"38":{"start":{"line":61,"column":16},"end":{"line":61,"column":32}},"39":{"start":{"line":64,"column":30},"end":{"line":64,"column":46}},"40":{"start":{"line":65,"column":16},"end":{"line":69,"column":17}},"41":{"start":{"line":65,"column":29},"end":{"line":65,"column":30}},"42":{"start":{"line":66,"column":20},"end":{"line":68,"column":21}},"43":{"start":{"line":67,"column":24},"end":{"line":67,"column":69}},"44":{"start":{"line":70,"column":16},"end":{"line":70,"column":31}},"45":{"start":{"line":73,"column":36},"end":{"line":73,"column":45}},"46":{"start":{"line":74,"column":16},"end":{"line":77,"column":17}},"47":{"start":{"line":74,"column":29},"end":{"line":74,"column":30}},"48":{"start":{"line":75,"column":41},"end":{"line":75,"column":89}},"49":{"start":{"line":76,"column":20},"end":{"line":76,"column":82}},"50":{"start":{"line":78,"column":16},"end":{"line":78,"column":40}},"51":{"start":{"line":81,"column":8},"end":{"line":81,"column":17}},"52":{"start":{"line":84,"column":26},"end":{"line":84,"column":37}},"53":{"start":{"line":85,"column":18},"end":{"line":85,"column":27}},"54":{"start":{"line":86,"column":25},"end":{"line":86,"column":27}},"55":{"start":{"line":88,"column":8},"end":{"line":102,"column":11}},"56":{"start":{"line":90,"column":27},"end":{"line":90,"column":29}},"57":{"start":{"line":91,"column":12},"end":{"line":95,"column":15}},"58":{"start":{"line":92,"column":36},"end":{"line":92,"column":74}},"59":{"start":{"line":93,"column":16},"end":{"line":93,"column":56}},"60":{"start":{"line":94,"column":16},"end":{"line":94,"column":63}},"61":{"start":{"line":96,"column":12},"end":{"line":96,"column":33}},"62":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"63":{"start":{"line":98,"column":16},"end":{"line":98,"column":48}},"64":{"start":{"line":100,"column":12},"end":{"line":100,"column":45}},"65":{"start":{"line":101,"column":12},"end":{"line":101,"column":28}},"66":{"start":{"line":103,"column":8},"end":{"line":103,"column":19}},"67":{"start":{"line":106,"column":8},"end":{"line":106,"column":15}},"68":{"start":{"line":109,"column":0},"end":{"line":109,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":31},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":41},"end":{"line":33,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":24},"end":{"line":14,"column":25}},"loc":{"start":{"line":14,"column":40},"end":{"line":26,"column":9}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":31},"end":{"line":15,"column":32}},"loc":{"start":{"line":15,"column":56},"end":{"line":25,"column":13}},"line":15},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":45},"end":{"line":31,"column":9}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":52},"end":{"line":82,"column":5}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":83,"column":4},"end":{"line":83,"column":5}},"loc":{"start":{"line":83,"column":31},"end":{"line":104,"column":5}},"line":83},"7":{"name":"(anonymous_7)","decl":{"start":{"line":88,"column":23},"end":{"line":88,"column":24}},"loc":{"start":{"line":88,"column":43},"end":{"line":102,"column":9}},"line":88},"8":{"name":"(anonymous_8)","decl":{"start":{"line":91,"column":32},"end":{"line":91,"column":33}},"loc":{"start":{"line":91,"column":45},"end":{"line":95,"column":13}},"line":91},"9":{"name":"(anonymous_9)","decl":{"start":{"line":105,"column":4},"end":{"line":105,"column":5}},"loc":{"start":{"line":105,"column":38},"end":{"line":107,"column":5}},"line":105}},"branchMap":{"0":{"loc":{"start":{"line":38,"column":8},"end":{"line":80,"column":9}},"type":"switch","locations":[{"start":{"line":39,"column":12},"end":{"line":47,"column":13}},{"start":{"line":48,"column":12},"end":{"line":55,"column":13}},{"start":{"line":56,"column":12},"end":{"line":62,"column":13}},{"start":{"line":63,"column":12},"end":{"line":71,"column":13}},{"start":{"line":72,"column":12},"end":{"line":79,"column":13}}],"line":38},"1":{"loc":{"start":{"line":42,"column":20},"end":{"line":44,"column":21}},"type":"if","locations":[{"start":{"line":42,"column":20},"end":{"line":44,"column":21}},{"start":{"line":42,"column":20},"end":{"line":44,"column":21}}],"line":42},"2":{"loc":{"start":{"line":66,"column":20},"end":{"line":68,"column":21}},"type":"if","locations":[{"start":{"line":66,"column":20},"end":{"line":68,"column":21}},{"start":{"line":66,"column":20},"end":{"line":68,"column":21}}],"line":66},"3":{"loc":{"start":{"line":75,"column":41},"end":{"line":75,"column":89}},"type":"binary-expr","locations":[{"start":{"line":75,"column":41},"end":{"line":75,"column":84}},{"start":{"line":75,"column":88},"end":{"line":75,"column":89}}],"line":75},"4":{"loc":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},{"start":{"line":97,"column":12},"end":{"line":99,"column":13}}],"line":97}},"s":{"0":1,"1":72,"2":25,"3":25,"4":3,"5":3,"6":12,"7":12,"8":12,"9":12,"10":12,"11":12,"12":12,"13":12,"14":3,"15":3,"16":12,"17":3,"18":12,"19":12,"20":12,"21":12,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":2,"29":2,"30":2,"31":3,"32":2,"33":2,"34":0,"35":0,"36":0,"37":0,"38":0,"39":3,"40":3,"41":3,"42":4,"43":3,"44":3,"45":7,"46":7,"47":7,"48":27,"49":27,"50":7,"51":0,"52":25,"53":3,"54":3,"55":3,"56":34,"57":34,"58":34,"59":34,"60":34,"61":34,"62":34,"63":12,"64":34,"65":34,"66":3,"67":25,"68":1},"f":{"0":72,"1":25,"2":12,"3":12,"4":12,"5":12,"6":25,"7":34,"8":34,"9":25},"b":{"0":[0,2,0,3,7],"1":[0,0],"2":[3,1],"3":[27,8],"4":[12,22]},"inputSourceMap":{"version":3,"file":"C:/Users/aqilf/project_team103/src/controller/TransformOperator.ts","sources":["C:/Users/aqilf/project_team103/src/controller/TransformOperator.ts"],"names":[],"mappings":"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","sourcesContent":["import {InsightError, InsightResult} from \"./IInsightFacade\";\r\nimport QueryOperator from \"./QueryOperator\";\r\nexport default class TransformOperator {\r\n\tprivate queryOperator: QueryOperator;\r\n\tconstructor(queryOperator: QueryOperator) {\r\n\t\tthis.queryOperator = queryOperator;\r\n\t}\r\n\r\n\tpublic handleTransformations(query: any, result: InsightResult[]): InsightResult[] {\r\n        // Check keys length and its names\r\n\t\tthis.validateTransformationKeys(query);\r\n\t\tlet grouped: Map<string, InsightResult[]>  = this.handleGroup(query, result);\r\n\r\n\t\tlet applyArray: string[] = query.APPLY;\r\n\r\n\r\n        // Take each group\r\n\t\tgrouped.forEach((groupArray: InsightResult[]) => {\r\n\t\t\tapplyArray.forEach((value, index, array) =>  {\r\n\t\t\t\tconst applyKeyArray: string[] =  Object.keys(value);\r\n\t\t\t\tconst applyName = applyKeyArray[0];\r\n\t\t\t\tconst applyRuleArray: string[] = Object.values(value);\r\n\t\t\t\tconst applyRule: string = applyRuleArray[0];\r\n\r\n\r\n                // Calculate apply rule\r\n\t\t\t\tconst calculatedApplyRule: number = this.calculateApplyRule(applyRule, groupArray);\r\n\r\n                // Add to the current groupArray with the right applyName\r\n\t\t\t\tgroupArray[0][applyName] = calculatedApplyRule;\r\n\t\t\t\tthis.queryOperator.applyNames.push(applyName);\r\n\t\t\t});\r\n\t\t});\r\n\r\n        // only take the first of each array in every value of the map\r\n\t\tresult = [];\r\n\t\tgrouped.forEach( (value, key, map) => {\r\n\t\t\tresult.push(value[0]);\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate calculateApplyRule(applyRuleObject: string, groupArray: InsightResult[]): number {\r\n\r\n\t\tconst applyKeyArray: string[] =  Object.keys(applyRuleObject);\r\n\t\tconst applyValueArray: string[] = Object.values(applyRuleObject);\r\n\t\tconst parsedField: string = this.queryOperator.parseField(applyValueArray[0]);\r\n\t\tswitch (applyKeyArray[0]) {\r\n\t\t\tcase \"MIN\" : {\r\n\t\t\t\tlet smallest: number = Number.MAX_VALUE;\r\n\t\t\t\tfor (let i = 1; i < groupArray.length; i++) {\r\n\t\t\t\t\tif (Number(groupArray[i][parsedField]) < smallest) {\r\n\t\t\t\t\t\tsmallest = Number(groupArray[i][parsedField]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn smallest;\r\n\t\t\t}\r\n\t\t\tcase \"AVG\" : {\r\n\t\t\t\tlet totalAvg: number = 0;\r\n\t\t\t\tfor (let i = 1; i < groupArray.length; i++) {\r\n\t\t\t\t\ttotalAvg += Number(groupArray[i][parsedField]);\r\n\t\t\t\t}\r\n\t\t\t\tconst calculated: number = (totalAvg / (groupArray.length - 1));\r\n\t\t\t\treturn calculated;\r\n\t\t\t}\r\n\r\n\t\t\tcase \"SUM\": {\r\n\t\t\t\tlet totalSum: number = 0;\r\n\t\t\t\tfor (let i = 1; i < groupArray.length; i++) {\r\n\t\t\t\t\ttotalSum += Number(groupArray[i][parsedField]);\r\n\t\t\t\t}\r\n\t\t\t\treturn totalSum;\r\n\t\t\t}\r\n\t\t\tcase \"MAX\" : {\r\n\t\t\t\tlet largest: number = Number.MIN_VALUE;\r\n\t\t\t\tfor (let i = 1; i < groupArray.length; i++) {\r\n\t\t\t\t\tif (Number(groupArray[i][parsedField]) > largest) {\r\n\t\t\t\t\t\tlargest = Number(groupArray[i][parsedField]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn largest;\r\n\t\t\t}\r\n\t\t\tcase \"COUNT\" : {\r\n\t\t\t\tconst occurrences = new Map<number | string, number>();\r\n\r\n\t\t\t\tfor (let i = 1; i < groupArray.length; i++) {\r\n\t\t\t\t\tconst currentCount = occurrences.get(groupArray[i][parsedField]) || 0;\r\n\t\t\t\t\toccurrences.set(groupArray[i][parsedField], currentCount + 1);\r\n\t\t\t\t}\r\n\t\t\t\treturn occurrences.size; // This is the sum of all occurrences.\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprivate handleGroup(query: any, result: InsightResult[]) {\r\n\t\tlet groupsArray: string[] = query.GROUP;\r\n\t\tlet map: Map<string, InsightResult[]> = new Map<string, InsightResult[]>();\r\n\t\tlet tempResult: InsightResult = {};\r\n\r\n        // Iterate sections in result\r\n\t\tresult.forEach((section, index) => {\r\n\r\n            // Create a groupKey for the section to match in maps.\r\n\t\t\tlet groupKey: string = \"\";\r\n\r\n\t\t\tgroupsArray.forEach((mOrSkey) => {\r\n\t\t\t\tconst parsedField: string = this.queryOperator.parseField(mOrSkey);\r\n\t\t\t\tgroupKey += section[parsedField] + \" |\";\r\n\t\t\t\ttempResult[parsedField] = section[parsedField];\r\n\t\t\t});\r\n\r\n\t\t\tgroupKey += \" group\";\r\n\r\n\t\t\tif (!map.has(groupKey)) {\r\n\t\t\t\tmap.set(groupKey, [tempResult]);\r\n\t\t\t}\r\n\r\n\t\t\tmap.get(groupKey)?.push(section);\r\n\t\t\ttempResult = {};\r\n\r\n\t\t});\r\n\t\treturn map;\r\n\t}\r\n\r\n\tprivate validateTransformationKeys(query: any): void {\r\n\t\treturn;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6f562829663a5ba776b553acd0a44071fd5ad1e","contentHash":"552a5b493c2e35a1e2ee101609f1ae22cee1b477cd71a3b66c535ea6c2396c47"}}